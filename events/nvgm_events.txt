# 海外企業の設立
namespace = nvgm_establish_company_events
nvgm_establish_company_events.1 = {
	type = country_event
	placement = root
	title = nvgm_establish_company_events.1.title
	desc = nvgm_establish_company_events.1.desc
	flavor = nvgm_establish_company_events.1.flavor
	event_image = {
		video = "unspecific_signed_contract"
	}
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	icon = "gfx/interface/icons/event_icons/event_default.dds"
	duration = 3
	trigger = {
		# Triggered by JE
	}
	immediate = {
		random_country = {
			limit = {
				is_direct_subject_of = root
				can_nvgm_establish_company = yes
				NOR = {
					# this = scope:nvgm_target_country_1
					this = scope:nvgm_target_country_2
					this = scope:nvgm_target_country_3
					this = scope:nvgm_target_country_4
					this = scope:nvgm_target_country_5
					this = scope:nvgm_target_country_6
				}
			}
			save_scope_as = nvgm_target_country_1
			random_country = {
				limit = {
					can_nvgm_establish_company = yes
					is_direct_subject_of = root
					NOR = {
						this = scope:nvgm_target_country_1
						# this = scope:nvgm_target_country_2
						this = scope:nvgm_target_country_3
						this = scope:nvgm_target_country_4
						this = scope:nvgm_target_country_5
						this = scope:nvgm_target_country_6
					}
				}
				save_scope_as = nvgm_target_country_2
				random_country = {
					limit = {
						can_nvgm_establish_company = yes
						is_direct_subject_of = root
						NOR = {
							this = scope:nvgm_target_country_1
							this = scope:nvgm_target_country_2
							# this = scope:nvgm_target_country_3
							this = scope:nvgm_target_country_4
							this = scope:nvgm_target_country_5
							this = scope:nvgm_target_country_6
						}
					}
					save_scope_as = nvgm_target_country_3
					random_country = {
						limit = {
							can_nvgm_establish_company = yes
							is_direct_subject_of = root
							NOR = {
								this = scope:nvgm_target_country_1
								this = scope:nvgm_target_country_2
								this = scope:nvgm_target_country_3
								# this = scope:nvgm_target_country_4
								this = scope:nvgm_target_country_5
								this = scope:nvgm_target_country_6
							}
						}
						save_scope_as = nvgm_target_country_4
						random_country = {
							limit = {
								can_nvgm_establish_company = yes
								is_direct_subject_of = root
								NOR = {
									this = scope:nvgm_target_country_1
									this = scope:nvgm_target_country_2
									this = scope:nvgm_target_country_3
									this = scope:nvgm_target_country_4
									# this = scope:nvgm_target_country_5
									this = scope:nvgm_target_country_6
								}
							}
							save_scope_as = nvgm_target_country_5
							random_country = {
								limit = {
									can_nvgm_establish_company = yes
									is_direct_subject_of = root
									NOR = {
										this = scope:nvgm_target_country_1
										this = scope:nvgm_target_country_2
										this = scope:nvgm_target_country_3
										this = scope:nvgm_target_country_4
										this = scope:nvgm_target_country_5
										# this = scope:nvgm_target_country_6
									}
								}
								save_scope_as = nvgm_target_country_6
							}
						}
					}
				}
			}
		}
	}
	option = {
		name = nvgm_establish_company_events.1.a
		trigger = {
			exists = scope:nvgm_target_country_1
		}
		scope:nvgm_target_country_1 = {
			set_variable = nvgm_target_country_variable
		}
		# clear_saved_scope = nvgm_target_country_1
		clear_saved_scope = nvgm_target_country_2
		clear_saved_scope = nvgm_target_country_3
		clear_saved_scope = nvgm_target_country_4
		clear_saved_scope = nvgm_target_country_5
		clear_saved_scope = nvgm_target_country_6
		hidden_effect = {
			trigger_event = {
				id = nvgm_establish_company_events.2
				popup = yes
			}
		}
	}
	option = {
		name = nvgm_establish_company_events.1.b
		trigger = {
			exists = scope:nvgm_target_country_2
		}
		scope:nvgm_target_country_2 = {
			set_variable = nvgm_target_country_variable
		}
		clear_saved_scope = nvgm_target_country_1
		# clear_saved_scope = nvgm_target_country_2
		clear_saved_scope = nvgm_target_country_3
		clear_saved_scope = nvgm_target_country_4
		clear_saved_scope = nvgm_target_country_5
		clear_saved_scope = nvgm_target_country_6
		hidden_effect = {
			trigger_event = {
				id = nvgm_establish_company_events.2
				popup = yes
			}
		}
	}
	option = {
		name = nvgm_establish_company_events.1.c
		trigger = {
			exists = scope:nvgm_target_country_3
		}
		scope:nvgm_target_country_3 = {
			set_variable = nvgm_target_country_variable
		}
		clear_saved_scope = nvgm_target_country_1
		clear_saved_scope = nvgm_target_country_2
		# clear_saved_scope = nvgm_target_country_3
		clear_saved_scope = nvgm_target_country_4
		clear_saved_scope = nvgm_target_country_5
		clear_saved_scope = nvgm_target_country_6
		hidden_effect = {
			trigger_event = {
				id = nvgm_establish_company_events.2
				popup = yes
			}
		}
	}
	option = {
		name = nvgm_establish_company_events.1.d
		trigger = {
			exists = scope:nvgm_target_country_4
		}
		scope:nvgm_target_country_4 = {
			set_variable = nvgm_target_country_variable
		}
		clear_saved_scope = nvgm_target_country_1
		clear_saved_scope = nvgm_target_country_2
		clear_saved_scope = nvgm_target_country_3
		# clear_saved_scope = nvgm_target_country_4
		clear_saved_scope = nvgm_target_country_5
		clear_saved_scope = nvgm_target_country_6
		hidden_effect = {
			trigger_event = {
				id = nvgm_establish_company_events.2
				popup = yes
			}
		}
	}
	option = {
		name = nvgm_establish_company_events.1.e
		trigger = {
			exists = scope:nvgm_target_country_5
		}
		scope:nvgm_target_country_5 = {
			set_variable = nvgm_target_country_variable
		}
		clear_saved_scope = nvgm_target_country_1
		clear_saved_scope = nvgm_target_country_2
		clear_saved_scope = nvgm_target_country_3
		clear_saved_scope = nvgm_target_country_4
		# clear_saved_scope = nvgm_target_country_5
		clear_saved_scope = nvgm_target_country_6
		hidden_effect = {
			trigger_event = {
				id = nvgm_establish_company_events.2
				popup = yes
			}
		}
	}
	option = {
		name = nvgm_establish_company_events.1.f
		trigger = {
			exists = scope:nvgm_target_country_6
		}
		scope:nvgm_target_country_6 = {
			set_variable = nvgm_target_country_variable
		}
		clear_saved_scope = nvgm_target_country_1
		clear_saved_scope = nvgm_target_country_2
		clear_saved_scope = nvgm_target_country_3
		clear_saved_scope = nvgm_target_country_4
		clear_saved_scope = nvgm_target_country_5
		# clear_saved_scope = nvgm_target_country_6
		hidden_effect = {
			trigger_event = {
				id = nvgm_establish_company_events.2
				popup = yes
			}
		}
	}
	option = {
		name = nvgm_establish_company_events.1.reset
		clear_saved_scope = nvgm_target_country_1
		clear_saved_scope = nvgm_target_country_2
		clear_saved_scope = nvgm_target_country_3
		clear_saved_scope = nvgm_target_country_4
		clear_saved_scope = nvgm_target_country_5
		clear_saved_scope = nvgm_target_country_6
		hidden_effect = {
			trigger_event = {
				id = nvgm_establish_company_events.1
			}
		}
	}
	option = {
		name = nvgm_establish_company_events.1.close
		clear_saved_scope = nvgm_target_country_1
		clear_saved_scope = nvgm_target_country_2
		clear_saved_scope = nvgm_target_country_3
		clear_saved_scope = nvgm_target_country_4
		clear_saved_scope = nvgm_target_country_5
		clear_saved_scope = nvgm_target_country_6
	}
	after = {
		# clear_saved_scope = nvgm_target_country
		clear_saved_scope = nvgm_target_country_1
		clear_saved_scope = nvgm_target_country_2
		clear_saved_scope = nvgm_target_country_3
		clear_saved_scope = nvgm_target_country_4
		clear_saved_scope = nvgm_target_country_5
		clear_saved_scope = nvgm_target_country_6
	}
}

nvgm_establish_company_events.2 = {
	type = country_event
	placement = root
	title = nvgm_establish_company_events.2.title
	desc = nvgm_establish_company_events.2.desc
	flavor = nvgm_establish_company_events.2.flavor
	event_image = {
		video = "unspecific_signed_contract"
	}
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	icon = "gfx/interface/icons/event_icons/event_default.dds"
	duration = 3
	trigger = {
		# Triggered by JE
	}
	immediate = {
		random_country = {
			limit = {
				has_variable = nvgm_target_country_variable
			}
			save_scope_as = nvgm_target_country
		}
	}
	# クオリティ・グレインズ社a
	option = {
		name = nvgm_establish_company_events.2.a
		trigger = {
			scope:nvgm_target_country = {
				can_nvgm_establish_company_basic_agriculture_1 = yes
			}
		}
		custom_tooltip = nvgm_company_basic_agriculture_1_tooltip
		scope:nvgm_target_country = {
			random_scope_state = {
				limit = {
					or = {
						has_building = building_wheat_farm
						has_building = building_rye_farm
						can_construct_building = building_wheat_farm
						can_construct_building = building_rye_farm
					}
				}
				scope:nvgm_target_country = {
					add_company = company_type:company_basic_agriculture_1
					company:company_basic_agriculture_1 = {
						set_company_state_region = prev
					}
					add_modifier = {
						name = nvgm_establish_company_test_modifier
						months = short_modifier_time
					}
				}
				if = {
					limit = {
						can_construct_building = building_wheat_farm
					}
					create_building = {
						building = building_wheat_farm
						add_ownership = {
							company = {
								type = company_basic_agriculture_1
								country = scope:nvgm_target_country
								levels = 5
							}
						}
						reserves = 1
					}
					every_scope_building = {
						limit = {
							is_building_type = building_tea_plantation
						}
						set_subsidized = yes
					}
				}
				else = {
					create_building = {
						building = building_rye_farm
						add_ownership = {
							company = {
								type = company_basic_agriculture_1
								country = scope:nvgm_target_country
								levels = 5
							}
						}
						reserves = 1
					}
					every_scope_building = {
						limit = {
							is_building_type = building_rye_farm
						}
						set_subsidized = yes
					}
				}
			}
		}
		clear_saved_scope = nvgm_target_country
	}
	# 農業開発協会b
	option = {
		name = nvgm_establish_company_events.2.b
		trigger = {
			scope:nvgm_target_country = {
				can_nvgm_establish_company_basic_agriculture_2 = yes
			}
		}
		custom_tooltip = nvgm_company_basic_agriculture_2_tooltip
		scope:nvgm_target_country = {
			random_scope_state = {
				limit = {
					or = {
						has_building = building_millet_farm
						has_building = building_rice_farm
						has_building = building_maize_farm
						can_construct_building = building_millet_farm
						can_construct_building = building_rice_farm
						can_construct_building = building_maize_farm
					}
				}
				scope:nvgm_target_country = {
					add_company = company_type:company_basic_agriculture_2
					company:company_basic_agriculture_2 = {
						set_company_state_region = prev
					}
					add_modifier = {
						name = nvgm_establish_company_test_modifier
						months = short_modifier_time
					}
				}
				if = {
					limit = {
						can_construct_building = building_millet_farm
					}
					create_building = {
						building = building_millet_farm
						add_ownership = {
							company = {
								type = company_basic_agriculture_2
								country = scope:nvgm_target_country
								levels = 5
							}
						}
						reserves = 1
					}
					every_scope_building = {
						limit = {
							is_building_type = building_millet_farm
						}
						set_subsidized = yes
					}
				}
				else_if = {
					limit = {
						can_construct_building = building_rice_farm
					}
					create_building = {
						building = building_rice_farm
						add_ownership = {
							company = {
								type = company_basic_agriculture_2
								country = scope:nvgm_target_country
								levels = 5
							}
						}
						reserves = 1
					}
					every_scope_building = {
						limit = {
							is_building_type = building_rice_farm
						}
						set_subsidized = yes
					}
				}
				else = {
					create_building = {
						building = building_maize_farm
						add_ownership = {
							company = {
								type = company_basic_agriculture_2
								country = scope:nvgm_target_country
								levels = 5
							}
						}
						reserves = 1
					}
					every_scope_building = {
						limit = {
							is_building_type = building_maize_farm
						}
						set_subsidized = yes
					}
				}
			}
		}
		clear_saved_scope = nvgm_target_country
	}
	# 織物生産者協会c
	option = {
		name = nvgm_establish_company_events.2.c
		trigger = {
			scope:nvgm_target_country = {
				can_nvgm_establish_company_basic_fabrics = yes
			}
		}
		custom_tooltip = nvgm_company_basic_fabrics_tooltip
		scope:nvgm_target_country = {
			random_scope_state = {
				limit = {
					or = {
						has_building = building_cotton_plantation
						has_building = building_livestock_ranch
						can_construct_building = building_cotton_plantation
						can_construct_building = building_livestock_ranch
					}
				}
				scope:nvgm_target_country = {
					add_company = company_type:company_basic_fabrics
					company:company_basic_fabrics = {
						set_company_state_region = prev
					}
					add_modifier = {
						name = nvgm_establish_company_test_modifier
						months = short_modifier_time
					}
				}
				if = {
					limit = {
						can_construct_building = building_cotton_plantation
					}
					create_building = {
						building = building_cotton_plantation
						add_ownership = {
							company = {
								type = company_basic_fabrics
								country = scope:nvgm_target_country
								levels = 5
							}
						}
						reserves = 1
					}
					every_scope_building = {
						limit = {
							is_building_type = building_cotton_plantation
						}
						set_subsidized = yes
					}
				}
				else = {
					create_building = {
						building = building_livestock_ranch
						add_ownership = {
							company = {
								type = company_basic_fabrics
								country = scope:nvgm_target_country
								levels = 5
							}
						}
						reserves = 1
					}
					every_scope_building = {
						limit = {
							is_building_type = building_livestock_ranch
						}
						set_subsidized = yes
					}
				}
			}
		}
		clear_saved_scope = nvgm_target_country
	}
	# グランド・イースト・プランテーションズ社d
	option = {
		name = nvgm_establish_company_events.2.d
		trigger = {
			scope:nvgm_target_country = {
				can_nvgm_establish_company_basic_colonial_plantations_1 = yes
			}
		}
		custom_tooltip = nvgm_company_basic_colonial_plantations_1_tooltip
		scope:nvgm_target_country = {
			random_scope_state = {
				limit = {
					or = {
						has_building = building_opium_plantation
						has_building = building_tea_plantation
						can_construct_building = building_opium_plantation
						can_construct_building = building_tea_plantation
					}
				}
				scope:nvgm_target_country = {
					add_company = company_type:company_basic_colonial_plantations_1
					company:company_basic_colonial_plantations_1 = {
						set_company_state_region = prev
					}
					add_modifier = {
						name = nvgm_establish_company_test_modifier
						months = short_modifier_time
					}
				}
				if = {
					limit = {
						can_construct_building = building_opium_plantation
					}
					create_building = {
						building = building_opium_plantation
						add_ownership = {
							company = {
								type = company_basic_colonial_plantations_1
								country = scope:nvgm_target_country
								levels = 5
							}
						}
						reserves = 1
					}
					every_scope_building = {
						limit = {
							is_building_type = building_opium_plantation
						}
						set_subsidized = yes
					}
				}
				else = {
					create_building = {
						building = building_tea_plantation
						add_ownership = {
							company = {
								type = company_basic_colonial_plantations_1
								country = scope:nvgm_target_country
								levels = 5
							}
						}
						reserves = 1
					}
					every_scope_building = {
						limit = {
							is_building_type = building_tea_plantation
						}
						set_subsidized = yes
					}
				}
			}
		}
		clear_saved_scope = nvgm_target_country
	}
	# 標準植民地製品e
	option = {
		name = nvgm_establish_company_events.2.e
		trigger = {
			scope:nvgm_target_country = {
				can_nvgm_establish_company_basic_colonial_plantations_2 = yes
			}
		}
		custom_tooltip = nvgm_company_basic_colonial_plantations_2_tooltip
		scope:nvgm_target_country = {
			random_scope_state = {
				limit = {
					or = {
						has_building = building_coffee_plantation
						has_building = building_sugar_plantation
						has_building = building_tobacco_plantation
						can_construct_building = building_coffee_plantation
						can_construct_building = building_sugar_plantation
						can_construct_building = building_tobacco_plantation
					}
				}
				scope:nvgm_target_country = {
					add_company = company_type:company_basic_colonial_plantations_2
					company:company_basic_colonial_plantations_2 = {
						set_company_state_region = prev
					}
					add_modifier = {
						name = nvgm_establish_company_test_modifier
						months = short_modifier_time
					}
				}
				if = {
					limit = {
						can_construct_building = building_coffee_plantation
					}
					create_building = {
						building = building_coffee_plantation
						add_ownership = {
							company = {
								type = company_basic_colonial_plantations_2
								country = scope:nvgm_target_country
								levels = 5
							}
						}
						reserves = 1
					}
					every_scope_building = {
						limit = {
							is_building_type = building_coffee_plantation
						}
						set_subsidized = yes
					}
				}
				else_if = {
					limit = {
						can_construct_building = building_sugar_plantation
					}
					create_building = {
						building = building_sugar_plantation
						add_ownership = {
							company = {
								type = company_basic_colonial_plantations_2
								country = scope:nvgm_target_country
								levels = 5
							}
						}
						reserves = 1
					}
					every_scope_building = {
						limit = {
							is_building_type = building_sugar_plantation
						}
						set_subsidized = yes
					}
				}
				else = {
					create_building = {
						building = building_tobacco_plantation
						add_ownership = {
							company = {
								type = company_basic_colonial_plantations_2
								country = scope:nvgm_target_country
								levels = 5
							}
						}
						reserves = 1
					}
					every_scope_building = {
						limit = {
							is_building_type = building_tobacco_plantation
						}
						set_subsidized = yes
					}
				}
			}
		}
		clear_saved_scope = nvgm_target_country
	}
	# シルク&ダイ株式会社f
	option = {
		name = nvgm_establish_company_events.2.f
		trigger = {
			scope:nvgm_target_country = {
				can_nvgm_establish_company_basic_silk_and_dye = yes
			}
		}
		custom_tooltip = nvgm_company_basic_silk_and_dye_tooltip
		scope:nvgm_target_country = {
			random_scope_state = {
				limit = {
					or = {
						has_building = building_silk_plantation
						has_building = building_dye_plantation
						can_construct_building = building_silk_plantation
						can_construct_building = building_dye_plantation
					}
				}
				scope:nvgm_target_country = {
					add_company = company_type:company_basic_silk_and_dye
					company:company_basic_silk_and_dye = {
						set_company_state_region = prev
					}
					add_modifier = {
						name = nvgm_establish_company_test_modifier
						months = short_modifier_time
					}
				}
				if = {
					limit = {
						can_construct_building = building_silk_plantation
					}
					create_building = {
						building = building_silk_plantation
						add_ownership = {
							company = {
								type = company_basic_silk_and_dye
								country = scope:nvgm_target_country
								levels = 5
							}
						}
						reserves = 1
					}
					every_scope_building = {
						limit = {
							is_building_type = building_silk_plantation
						}
						set_subsidized = yes
					}
				}
				else = {
					create_building = {
						building = building_dye_plantation
						add_ownership = {
							company = {
								type = company_basic_silk_and_dye
								country = scope:nvgm_target_country
								levels = 5
							}
						}
						reserves = 1
					}
					every_scope_building = {
						limit = {
							is_building_type = building_dye_plantation
						}
						set_subsidized = yes
					}
				}
			}
		}
		clear_saved_scope = nvgm_target_country
	}
	# ワイン&フルーツ株式会社g
	option = {
		name = nvgm_establish_company_events.2.g
		trigger = {
			scope:nvgm_target_country = {
				can_nvgm_establish_company_basic_wine_and_fruit = yes
			}
		}
		custom_tooltip = nvgm_company_basic_wine_and_fruit_tooltip
		scope:nvgm_target_country = {
			random_scope_state = {
				limit = {
					or = {
						has_building = building_vineyard_plantation
						has_building = building_banana_plantation
						can_construct_building = building_vineyard_plantation
						can_construct_building = building_banana_plantation
					}
				}
				scope:nvgm_target_country = {
					add_company = company_type:company_basic_wine_and_fruit
					company:company_basic_wine_and_fruit = {
						set_company_state_region = prev
					}
					add_modifier = {
						name = nvgm_establish_company_test_modifier
						months = short_modifier_time
					}
				}
				if = {
					limit = {
						can_construct_building = building_vineyard_plantation
					}
					create_building = {
						building = building_vineyard_plantation
						add_ownership = {
							company = {
								type = company_basic_wine_and_fruit
								country = scope:nvgm_target_country
								levels = 5
							}
						}
						reserves = 1
					}
					every_scope_building = {
						limit = {
							is_building_type = building_vineyard_plantation
						}
						set_subsidized = yes
					}
				}
				else = {
					create_building = {
						building = building_banana_plantation
						add_ownership = {
							company = {
								type = company_basic_wine_and_fruit
								country = scope:nvgm_target_country
								levels = 5
							}
						}
						reserves = 1
					}
					every_scope_building = {
						limit = {
							is_building_type = building_banana_plantation
						}
						set_subsidized = yes
					}
				}
			}
		}
		clear_saved_scope = nvgm_target_country
	}
	# 漁業連合h
	option = {
		name = nvgm_establish_company_events.2.h
		trigger = {
			scope:nvgm_target_country = {
				can_nvgm_establish_company_basic_fishing = yes
			}
		}
		custom_tooltip = nvgm_company_basic_fishing_tooltip
		scope:nvgm_target_country = {
			random_scope_state = {
				limit = {
					or = {
						has_building = building_fishing_wharf
						has_building = building_whaling_station
						can_construct_building = building_fishing_wharf
						can_construct_building = building_whaling_station
					}
				}
				scope:nvgm_target_country = {
					add_company = company_type:company_basic_fishing
					company:company_basic_fishing = {
						set_company_state_region = prev
					}
					add_modifier = {
						name = nvgm_establish_company_test_modifier
						months = short_modifier_time
					}
				}
				if = {
					limit = {
						can_construct_building = building_fishing_wharf
					}
					create_building = {
						building = building_fishing_wharf
						add_ownership = {
							company = {
								type = company_basic_fishing
								country = scope:nvgm_target_country
								levels = 5
							}
						}
						reserves = 1
					}
					every_scope_building = {
						limit = {
							is_building_type = building_fishing_wharf
						}
						set_subsidized = yes
					}
				}
				else = {
					create_building = {
						building = building_whaling_station
						add_ownership = {
							company = {
								type = company_basic_fishing
								country = scope:nvgm_target_country
								levels = 5
							}
						}
						reserves = 1
					}
					every_scope_building = {
						limit = {
							is_building_type = building_whaling_station
						}
						set_subsidized = yes
					}
				}
			}
		}
		clear_saved_scope = nvgm_target_country
	}
	# 連合林業コングロマリットi
	option = {
		name = nvgm_establish_company_events.2.i
		trigger = {
			scope:nvgm_target_country = {
				can_nvgm_establish_company_basic_forestry = yes
			}
		}
		custom_tooltip = nvgm_company_basic_forestry_tooltip
		scope:nvgm_target_country = {
			random_scope_state = {
				limit = {
					or = {
						has_building = building_logging_camp
						has_building = building_rubber_plantation
						can_construct_building = building_logging_camp
						can_construct_building = building_rubber_plantation
					}
				}
				scope:nvgm_target_country = {
					add_company = company_type:company_basic_forestry
					company:company_basic_forestry = {
						set_company_state_region = prev
					}
					add_modifier = {
						name = nvgm_establish_company_test_modifier
						months = short_modifier_time
					}
				}
				if = {
					limit = {
						can_construct_building = building_logging_camp
					}
					create_building = {
						building = building_logging_camp
						add_ownership = {
							company = {
								type = company_basic_forestry
								country = scope:nvgm_target_country
								levels = 5
							}
						}
						reserves = 1
					}
					every_scope_building = {
						limit = {
							is_building_type = building_logging_camp
						}
						set_subsidized = yes
					}
				}
				else = {
					create_building = {
						building = building_rubber_plantation
						add_ownership = {
							company = {
								type = company_basic_forestry
								country = scope:nvgm_target_country
								levels = 5
							}
						}
						reserves = 1
					}
					every_scope_building = {
						limit = {
							is_building_type = building_rubber_plantation
						}
						set_subsidized = yes
					}
				}
			}
		}
		clear_saved_scope = nvgm_target_country
	}
	# 連結石油j
	option = {
		name = nvgm_establish_company_events.2.j
		trigger = {
			scope:nvgm_target_country = {
				can_nvgm_establish_company_basic_oil = yes
			}
		}
		custom_tooltip = nvgm_company_basic_oil_tooltip
		scope:nvgm_target_country = {
			random_scope_state = {
				limit = {
					or = {
						has_building = building_oil_rig
						can_construct_building = building_oil_rig
					}
				}
				scope:nvgm_target_country = {
					add_company = company_type:company_basic_oil
					company:company_basic_oil = {
						set_company_state_region = prev
					}
					add_modifier = {
						name = nvgm_establish_company_test_modifier
						months = short_modifier_time
					}
				}
				create_building = {
					building = building_oil_rig
					add_ownership = {
						company = {
							type = company_basic_oil
							country = scope:nvgm_target_country
							levels = 5
						}
					}
					reserves = 1
				}
				every_scope_building = {
					limit = {
						is_building_type = building_oil_rig
					}
					set_subsidized = yes
				}
			}
		}
		clear_saved_scope = nvgm_target_country
	}
	# 貴金属企業連合k
	option = {
		name = nvgm_establish_company_events.2.k
		trigger = {
			scope:nvgm_target_country = {
				can_nvgm_establish_company_basic_gold_mining = yes
			}
		}
		custom_tooltip = nvgm_company_basic_gold_mining_tooltip
		scope:nvgm_target_country = {
			random_scope_state = {
				limit = {
					or = {
						has_building = building_gold_mine
						can_construct_building = building_gold_mine
					}
				}
				scope:nvgm_target_country = {
					add_company = company_type:company_basic_gold_mining
					company: = {
						set_company_state_region = prev
					}
					add_modifier = {
						name = nvgm_establish_company_test_modifier
						months = short_modifier_time
					}
				}
				create_building = {
					building = building_gold_mine
					add_ownership = {
						company = {
							type = company_basic_gold_mining
							country = scope:nvgm_target_country
							levels = 5
						}
					}
					reserves = 1
				}
				every_scope_building = {
					limit = {
						is_building_type = building_gold_mine
					}
					set_subsidized = yes
				}
			}
		}
		clear_saved_scope = nvgm_target_country
	}
	# 金属採掘共同体l
	option = {
		name = nvgm_establish_company_events.2.l
		trigger = {
			scope:nvgm_target_country = {
				can_nvgm_establish_company_basic_metal_mining = yes
			}
		}
		custom_tooltip = nvgm_company_basic_metal_mining_tooltip
		scope:nvgm_target_country = {
			random_scope_state = {
				limit = {
					or = {
						has_building = building_iron_mine
						has_building = building_lead_mine
						can_construct_building = building_iron_mine
						can_construct_building = building_lead_mine
					}
				}
				scope:nvgm_target_country = {
					add_company = company_type:company_basic_metal_mining
					company:company_basic_metal_mining = {
						set_company_state_region = prev
					}
					add_modifier = {
						name = nvgm_establish_company_test_modifier
						months = short_modifier_time
					}
				}
				if = {
					limit = {
						can_construct_building = building_iron_mine
					}
					create_building = {
						building = building_iron_mine
						add_ownership = {
							company = {
								type = company_basic_metal_mining
								country = scope:nvgm_target_country
								levels = 5
							}
						}
						reserves = 1
					}
					every_scope_building = {
						limit = {
							is_building_type = building_iron_mine
						}
						set_subsidized = yes
					}
				}
				else = {
					create_building = {
						building = building_lead_mine
						add_ownership = {
							company = {
								type = company_basic_metal_mining
								country = scope:nvgm_target_country
								levels = 5
							}
						}
						reserves = 1
					}
					every_scope_building = {
						limit = {
							is_building_type = building_lead_mine
						}
						set_subsidized = yes
					}
				}
			}
		}
		clear_saved_scope = nvgm_target_country
	}
	# スタンダード・ミネラルn
	option = {
		name = nvgm_establish_company_events.2.n
		trigger = {
			scope:nvgm_target_country = {
				can_nvgm_establish_company_basic_mineral_mining = yes
			}
		}
		custom_tooltip = nvgm_company_basic_metal_mining_tooltip
		scope:nvgm_target_country = {
			random_scope_state = {
				limit = {
					or = {
						has_building = building_sulfur_mine
						has_building = building_coal_mine
						can_construct_building = building_sulfur_mine
						can_construct_building = building_coal_mine
					}
				}
				scope:nvgm_target_country = {
					add_company = company_type:company_basic_mineral_mining
					company:company_basic_mineral_mining = {
						set_company_state_region = prev
					}
					add_modifier = {
						name = nvgm_establish_company_test_modifier
						months = short_modifier_time
					}
				}
				if = {
					limit = {
						can_construct_building = building_sulfur_mine
					}
					create_building = {
						building = building_sulfur_mine
						add_ownership = {
							company = {
								type = company_basic_mineral_mining
								country = scope:nvgm_target_country
								levels = 5
							}
						}
						reserves = 1
					}
					every_scope_building = {
						limit = {
							is_building_type = building_sulfur_mine
						}
						set_subsidized = yes
					}
				}
				else = {
					create_building = {
						building = building_coal_mine
						add_ownership = {
							company = {
								type = company_basic_mineral_mining
								country = scope:nvgm_target_country
								levels = 5
							}
						}
						reserves = 1
					}
					every_scope_building = {
						limit = {
							is_building_type = building_coal_mine
						}
						set_subsidized = yes
					}
				}
			}
		}
		clear_saved_scope = nvgm_target_country
	}
	# プレミアム食品m
	option = {
		name = nvgm_establish_company_events.2.m
		trigger = {
			scope:nvgm_target_country = {
				can_nvgm_establish_company_basic_food = yes
			}
		}
		custom_tooltip = nvgm_company_basic_food_tooltip
		scope:nvgm_target_country = {
			random_scope_state = {
				scope:nvgm_target_country = {
					add_company = company_type:company_basic_food
					company:company_basic_food = {
						set_company_state_region = prev
					}
					add_modifier = {
						name = nvgm_establish_company_test_modifier
						months = short_modifier_time
					}
				}
				create_building = {
					building = building_food_industry
					add_ownership = {
						company = {
							type = company_basic_food
							country = scope:nvgm_target_country
							levels = 5
						}
					}
					reserves = 1
				}
				every_scope_building = {
					limit = {
						is_building_type = building_food_industry
					}
					set_subsidized = yes
				}
			}
		}
		clear_saved_scope = nvgm_target_country
	}
	# ペーパー&パルプ株式会社o
	option = {
		name = nvgm_establish_company_events.2.o
		trigger = {
			scope:nvgm_target_country = {
				can_nvgm_establish_company_basic_paper = yes
			}
		}
		custom_tooltip = nvgm_company_basic_paper_tooltip
		scope:nvgm_target_country = {
			capital = {
				scope:nvgm_target_country = {
					add_company = company_type:company_basic_paper
					company:company_basic_paper = {
						set_company_state_region = prev
					}
					add_modifier = {
						name = nvgm_establish_company_test_modifier
						months = short_modifier_time
					}
				}
				create_building = {
					building = building_paper_mills
					add_ownership = {
						company = {
							type = company_basic_paper
							country = scope:nvgm_target_country
							levels = 5
						}
					}
					reserves = 1
				}
				every_scope_building = {
					limit = {
						is_building_type = building_paper_mills
					}
					set_subsidized = yes
				}
			}
		}
		clear_saved_scope = nvgm_target_country
	}
	# プレミアム家庭用品p
	option = {
		name = nvgm_establish_company_events.2.p
		trigger = {
			scope:nvgm_target_country = {
				can_nvgm_establish_company_basic_home_goods = yes
			}
		}
		custom_tooltip = nvgm_company_basic_home_goods_tooltip
		scope:nvgm_target_country = {
			capital = {
				scope:nvgm_target_country = {
					add_company = company_type:company_basic_home_goods
					company:company_basic_home_goods = {
						set_company_state_region = prev
					}
					add_modifier = {
						name = nvgm_establish_company_test_modifier
						months = short_modifier_time
					}
				}
				create_building = {
					building = building_glassworks
					add_ownership = {
						company = {
							type = company_basic_home_goods
							country = scope:nvgm_target_country
							levels = 3
						}
					}
					reserves = 1
				}
				create_building = {
					building = building_furniture_manufacturies
					add_ownership = {
						company = {
							type = company_basic_home_goods
							country = scope:nvgm_target_country
							levels = 3
						}
					}
					reserves = 1
				}
				every_scope_building = {
					limit = {
						or = {
							is_building_type = building_glassworks
							is_building_type = building_furniture_manufacturies
						}
					}
					set_subsidized = yes
				}
			}
		}
		clear_saved_scope = nvgm_target_country
	}
	# ファインアタイア株式会社q
	option = {
		name = nvgm_establish_company_events.2.q
		trigger = {
			scope:nvgm_target_country = {
				can_nvgm_establish_company_basic_textiles = yes
			}
		}
		custom_tooltip = nvgm_company_basic_textiles_tooltip
		scope:nvgm_target_country = {
			capital = {
				scope:nvgm_target_country = {
					add_company = company_type:company_basic_textiles
					company:company_basic_textiles = {
						set_company_state_region = prev
					}
					add_modifier = {
						name = nvgm_establish_company_test_modifier
						months = short_modifier_time
					}
				}
				create_building = {
					building = building_textile_mills
					add_ownership = {
						company = {
							type = company_basic_textiles
							country = scope:nvgm_target_country
							levels = 5
						}
					}
					reserves = 1
				}
				every_scope_building = {
					limit = {
						is_building_type = building_textile_mills
					}
					set_subsidized = yes
				}
			}
		}
		clear_saved_scope = nvgm_target_country
	}
	# 連結製鉄所r
	option = {
		name = nvgm_establish_company_events.2.r
		trigger = {
			scope:nvgm_target_country = {
				can_nvgm_establish_company_basic_steel = yes
			}
		}
		custom_tooltip = nvgm_company_basic_steel_tooltip
		scope:nvgm_target_country = {
			capital = {
				scope:nvgm_target_country = {
					add_company = company_type:company_basic_steel
					company:company_basic_steel = {
						set_company_state_region = prev
					}
					add_modifier = {
						name = nvgm_establish_company_test_modifier
						months = short_modifier_time
					}
				}
				create_building = {
					building = building_steel_mills
					add_ownership = {
						company = {
							type = company_basic_steel
							country = scope:nvgm_target_country
							levels = 5
						}
					}
					reserves = 1
				}
				every_scope_building = {
					limit = {
						is_building_type = building_steel_mills
					}
					set_subsidized = yes
				}
			}
		}
		clear_saved_scope = nvgm_target_country
	}
	# 金属加工連合s
	option = {
		name = nvgm_establish_company_events.2.s
		trigger = {
			scope:nvgm_target_country = {
				can_nvgm_establish_company_basic_metalworks = yes
			}
		}
		custom_tooltip = nvgm_company_basic_metalworks_tooltip
		scope:nvgm_target_country = {
			capital = {
				scope:nvgm_target_country = {
					add_company = company_type:company_basic_metalworks
					company:company_basic_home_goods = {
						set_company_state_region = prev
					}
					add_modifier = {
						name = nvgm_establish_company_test_modifier
						months = short_modifier_time
					}
				}
				if = {
					limit = {
						has_technology_researched = gunsmithing
					}
					create_building = {
						building = building_tooling_workshops
						add_ownership = {
							company = {
								type = company_basic_metalworks
								country = scope:nvgm_target_country
								levels = 2
							}
						}
						reserves = 1
					}
					create_building = {
						building = building_arms_industry
						add_ownership = {
							company = {
								type = company_basic_metalworks
								country = scope:nvgm_target_country
								levels = 2
							}
						}
						reserves = 1
					}
					create_building = {
						building = building_artillery_foundries
						add_ownership = {
							company = {
								type = company_basic_metalworks
								country = scope:nvgm_target_country
								levels = 2
							}
						}
						reserves = 1
					}
					every_scope_building = {
						limit = {
							or = {
								is_building_type = building_tooling_workshops
								is_building_type = building_arms_industry
								is_building_type = building_artillery_foundries
							}
						}
						set_subsidized = yes
					}
				}
				else = {
					create_building = {
						building = building_tooling_workshops
						add_ownership = {
							company = {
								type = company_basic_metalworks
								country = scope:nvgm_target_country
								levels = 5
							}
						}
						reserves = 1
					}
					every_scope_building = {
						limit = {
							is_building_type = building_tooling_workshops
						}
						set_subsidized = yes
					}
				}
			}
		}
		clear_saved_scope = nvgm_target_country
	}
	# 造船企業連合t
	option = {
		name = nvgm_establish_company_events.2.t
		trigger = {
			scope:nvgm_target_country = {
				can_nvgm_establish_company_basic_shipyards = yes
			}
		}
		custom_tooltip = nvgm_company_basic_shipyards_tooltip
		scope:nvgm_target_country = {
			capital = {
				scope:nvgm_target_country = {
					add_company = company_type:company_basic_shipyards
					company:company_basic_shipyards = {
						set_company_state_region = prev
					}
					add_modifier = {
						name = nvgm_establish_company_test_modifier
						months = short_modifier_time
					}
				}
				create_building = {
					building = building_shipyards
					add_ownership = {
						company = {
							type = company_basic_shipyards
							country = scope:nvgm_target_country
							levels = 3
						}
					}
					reserves = 1
				}
				create_building = {
					building = building_military_shipyards
					add_ownership = {
						company = {
							type = company_basic_shipyards
							country = scope:nvgm_target_country
							levels = 3
						}
					}
					reserves = 1
				}
				every_scope_building = {
					limit = {
						or = {
							is_building_type = building_shipyards
							is_building_type = building_military_shipyards
						}
					}
					set_subsidized = yes
				}
			}
		}
		clear_saved_scope = nvgm_target_country
	}
	# 化学産業グループu
	option = {
		name = nvgm_establish_company_events.2.u
		trigger = {
			scope:nvgm_target_country = {
				can_nvgm_establish_company_basic_chemicals = yes
			}
		}
		custom_tooltip = nvgm_company_basic_chemicals_tooltip
		scope:nvgm_target_country = {
			capital = {
				scope:nvgm_target_country = {
					add_company = company_type:company_basic_chemicals
					company:company_basic_chemicals = {
						set_company_state_region = prev
					}
					add_modifier = {
						name = nvgm_establish_company_test_modifier
						months = short_modifier_time
					}
				}
				if = {
					limit = {
						has_technology_researched = aniline
					}
					create_building = {
						building = building_chemical_plants
						add_ownership = {
							company = {
								type = company_basic_chemicals
								country = scope:nvgm_target_country
								levels = 3
							}
						}
						reserves = 1
					}
					create_building = {
						building = building_synthetics_plants
						add_ownership = {
							company = {
								type = company_basic_chemicals
								country = scope:nvgm_target_country
								levels = 3
							}
						}
						reserves = 1
					}
					every_scope_building = {
						limit = {
							or = {
								is_building_type = building_chemical_plants
								is_building_type = building_synthetics_plants
							}
						}
						set_subsidized = yes
					}
				}
				else = {
					create_building = {
						building = building_chemical_plants
						add_ownership = {
							company = {
								type = company_basic_chemicals
								country = scope:nvgm_target_country
								levels = 5
							}
						}
						reserves = 1
					}
					every_scope_building = {
						limit = {
							is_building_type = building_chemical_plants
						}
						set_subsidized = yes
					}
				}
			}
		}
		clear_saved_scope = nvgm_target_country
	}
	# スタンダード・モーターズv
	option = {
		name = nvgm_establish_company_events.2.v
		trigger = {
			scope:nvgm_target_country = {
				can_nvgm_establish_company_basic_motors = yes
			}
		}
		custom_tooltip = nvgm_company_basic_motors_tooltip
		scope:nvgm_target_country = {
			capital = {
				scope:nvgm_target_country = {
					add_company = company_type:company_basic_motors
					company:company_basic_motors = {
						set_company_state_region = prev
					}
					add_modifier = {
						name = nvgm_establish_company_test_modifier
						months = short_modifier_time
					}
				}
				if = {
					limit = {
						has_technology_researched = military_aviation
					}
					create_building = {
						building = building_motor_industry
						add_ownership = {
							company = {
								type = company_basic_motors
								country = scope:nvgm_target_country
								levels = 3
							}
						}
						reserves = 1
					}
					create_building = {
						building = building_war_machine_industry
						add_ownership = {
							company = {
								type = company_basic_motors
								country = scope:nvgm_target_country
								levels = 3
							}
						}
						reserves = 1
					}
					every_scope_building = {
						limit = {
							or = {
								is_building_type = building_motor_industry
								is_building_type = building_war_machine_industry
							}
						}
						set_subsidized = yes
					}
				}
				else = {
					create_building = {
						building = building_motor_industry
						add_ownership = {
							company = {
								type = company_basic_motors
								country = scope:nvgm_target_country
								levels = 5
							}
						}
						reserves = 1
					}
					every_scope_building = {
						limit = {
							is_building_type = building_motor_industry
						}
						set_subsidized = yes
					}
				}
			}
		}
		clear_saved_scope = nvgm_target_country
	}
	# 先進軍需コングロマリットw
	option = {
		name = nvgm_establish_company_events.2.w
		trigger = {
			scope:nvgm_target_country = {
				can_nvgm_establish_company_basic_munitions = yes
			}
		}
		custom_tooltip = nvgm_company_basic_munitions_tooltip
		scope:nvgm_target_country = {
			capital = {
				scope:nvgm_target_country = {
					add_company = company_type:company_basic_munitions
					company:company_basic_munitions = {
						set_company_state_region = prev
					}
					add_modifier = {
						name = nvgm_establish_company_test_modifier
						months = short_modifier_time
					}
				}
				if = {
					limit = {
						not = {
							has_technology_researched = intensive_agriculture
						}
						has_technology_researched = percussion_cap
					}
					create_building = {
						building = building_munition_plants
						add_ownership = {
							company = {
								type = company_basic_munitions
								country = scope:nvgm_target_country
								levels = 5
							}
						}
						reserves = 1
					}
					every_scope_building = {
						limit = {
							is_building_type = building_munition_plants
						}
						set_subsidized = yes
					}
				}
				else_if = {
					limit = {
						has_technology_researched = intensive_agriculture
						not = {
							has_technology_researched = percussion_cap
						}
					}
					create_building = {
						building = building_explosives_factory
						add_ownership = {
							company = {
								type = company_basic_munitions
								country = scope:nvgm_target_country
								levels = 5
							}
						}
						reserves = 1
					}
					every_scope_building = {
						limit = {
							is_building_type = building_explosives_factory
						}
						set_subsidized = yes
					}
				}
				else = {
					create_building = {
						building = building_munition_plants
						add_ownership = {
							company = {
								type = company_basic_munitions
								country = scope:nvgm_target_country
								levels = 3
							}
						}
						reserves = 1
					}
					create_building = {
						building = building_explosives_factory
						add_ownership = {
							company = {
								type = company_basic_munitions
								country = scope:nvgm_target_country
								levels = 3
							}
						}
						reserves = 1
					}
					every_scope_building = {
						limit = {
							or = {
								is_building_type = building_motor_industry
								is_building_type = building_explosives_factory
							}
						}
						set_subsidized = yes
					}
				}
			}
		}
		clear_saved_scope = nvgm_target_country
	}
	# ホーム・エレクトリクス株式会社x
	option = {
		name = nvgm_establish_company_events.2.x
		trigger = {
			scope:nvgm_target_country = {
				can_nvgm_establish_company_basic_electrics = yes
			}
		}
		custom_tooltip = nvgm_company_basic_electrics_tooltip
		scope:nvgm_target_country = {
			capital = {
				scope:nvgm_target_country = {
					add_company = company_type:company_basic_electrics
					company:company_basic_electrics = {
						set_company_state_region = prev
					}
					add_modifier = {
						name = nvgm_establish_company_test_modifier
						months = short_modifier_time
					}
				}
				create_building = {
					building = building_electrics_industry
					add_ownership = {
						company = {
							type = company_basic_electrics
							country = scope:nvgm_target_country
							levels = 5
						}
					}
					reserves = 1
				}
				every_scope_building = {
					limit = {
						is_building_type = building_electrics_industry
					}
					set_subsidized = yes
				}
			}
		}
		clear_saved_scope = nvgm_target_country
	}
	# 建設複合企業体y
	option = {
		name = nvgm_establish_company_events.2.y
		trigger = {
			is_in_power_bloc = yes
			power_bloc = {
				has_principle = principle_construction_3
			}
			scope:nvgm_target_country = {
				can_nvgm_establish_company_construction_power_bloc = yes
			}
		}
		custom_tooltip = nvgm_company_construction_power_bloc_tooltip
		scope:nvgm_target_country = {
			capital = {
				scope:nvgm_target_country = {
					add_company = company_type:company_construction_power_bloc
					company:company_construction_power_bloc = {
						set_company_state_region = prev
					}
					add_modifier = {
						name = nvgm_establish_company_test_modifier
						months = short_modifier_time
					}
				}
				create_building = {
					building = building_steel_mills
					add_ownership = {
						company = {
							type = company_construction_power_bloc
							country = scope:nvgm_target_country
							levels = 2
						}
					}
					reserves = 1
				}
				create_building = {
					building = building_tooling_workshops
					add_ownership = {
						company = {
							type = company_construction_power_bloc
							country = scope:nvgm_target_country
							levels = 2
						}
					}
					reserves = 1
				}
				create_building = {
					building = building_glassworks
					add_ownership = {
						company = {
							type = company_construction_power_bloc
							country = scope:nvgm_target_country
							levels = 2
						}
					}
					reserves = 1
				}
			}
		}
		clear_saved_scope = nvgm_target_country
	}
	# 戻る
	option = {
		name = nvgm_establish_company_events.1.reset
		clear_saved_scope = nvgm_target_country
		scope:nvgm_target_country = {
			remove_variable = nvgm_target_country_variable
		}
		hidden_effect = {
			trigger_event = {
				id = nvgm_establish_company_events.1
			}
		}
	}
	# 閉じる
	option = {
		name = nvgm_establish_company_events.1.close
		scope:nvgm_target_country = {
			remove_variable = nvgm_target_country_variable
		}
		clear_saved_scope = nvgm_target_country
	}
	after = {
		scope:nvgm_target_country = {
			remove_variable = nvgm_target_country_variable
		}
		clear_saved_scope = nvgm_target_country
	}
}

# 従属国への建設支援
namespace = nvgm_establish_construction_sector_events
nvgm_establish_construction_sector_events.1 = {
	type = country_event
	placement = root
	title = nvgm_establish_construction_sector_events.1.title
	desc = nvgm_establish_construction_sector_events.1.desc
	flavor = nvgm_establish_construction_sector_events.1.flavor
	event_image = {
		video = "unspecific_signed_contract"
	}
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	icon = "gfx/interface/icons/event_icons/event_default.dds"
	duration = 3
	trigger = {
		# Triggered by JE
	}
	immediate = {
		set_variable = nvgm_establish_construction_sector_events_now_var
		set_variable = {
			name = nvgm_establish_construction_sector_events_var
			value = 1
		}
		random_country = {
			limit = {
				is_direct_subject_of = root
				# any_scope_state = {
				# 	any_scope_building = {
				# 		is_building_type = building_construction_sector
				# 		level = 0
				# 	}
				# }
				NOR = {
					# this = scope:nvgm_target_construction_country_1
					this = scope:nvgm_target_construction_country_2
					this = scope:nvgm_target_construction_country_3
					this = scope:nvgm_target_construction_country_4
					this = scope:nvgm_target_construction_country_5
					this = scope:nvgm_target_construction_country_6
				}
			}
			save_scope_as = nvgm_target_construction_country_1
			random_country = {
				limit = {
					is_direct_subject_of = root
					# any_scope_state = {
					# 	any_scope_building = {
					# 		is_building_type = building_construction_sector
					# 		level = 0
					# 	}
					# }
					NOR = {
						this = scope:nvgm_target_construction_country_1
						# this = scope:nvgm_target_construction_country_2
						this = scope:nvgm_target_construction_country_3
						this = scope:nvgm_target_construction_country_4
						this = scope:nvgm_target_construction_country_5
						this = scope:nvgm_target_construction_country_6
					}
				}
				save_scope_as = nvgm_target_construction_country_2
				random_country = {
					limit = {
						is_direct_subject_of = root
						# any_scope_state = {
						# 	any_scope_building = {
						# 		is_building_type = building_construction_sector
						# 		level = 0
						# 	}
						# }
						NOR = {
							this = scope:nvgm_target_construction_country_1
							this = scope:nvgm_target_construction_country_2
							# this = scope:nvgm_target_construction_country_3
							this = scope:nvgm_target_construction_country_4
							this = scope:nvgm_target_construction_country_5
							this = scope:nvgm_target_construction_country_6
						}
					}
					save_scope_as = nvgm_target_construction_country_3
					random_country = {
						limit = {
							is_direct_subject_of = root
							# any_scope_state = {
							# 	any_scope_building = {
							# 		is_building_type = building_construction_sector
							# 		level = 0
							# 	}
							# }
							NOR = {
								this = scope:nvgm_target_construction_country_1
								this = scope:nvgm_target_construction_country_2
								this = scope:nvgm_target_construction_country_3
								# this = scope:nvgm_target_construction_country_4
								this = scope:nvgm_target_construction_country_5
								this = scope:nvgm_target_construction_country_6
							}
						}
						save_scope_as = nvgm_target_construction_country_4
						random_country = {
							limit = {
								is_direct_subject_of = root
								# any_scope_state = {
								# 	any_scope_building = {
								# 		is_building_type = building_construction_sector
								# 		level = 0
								# 	}
								# }
								NOR = {
									this = scope:nvgm_target_construction_country_1
									this = scope:nvgm_target_construction_country_2
									this = scope:nvgm_target_construction_country_3
									this = scope:nvgm_target_construction_country_4
									# this = scope:nvgm_target_construction_country_5
									this = scope:nvgm_target_construction_country_6
								}
							}
							save_scope_as = nvgm_target_construction_country_5
							random_country = {
								limit = {
									is_direct_subject_of = root
									# any_scope_state = {
									# 	any_scope_building = {
									# 		is_building_type = building_construction_sector
									# 		level = 0
									# 	}
									# }
									NOR = {
										this = scope:nvgm_target_construction_country_1
										this = scope:nvgm_target_construction_country_2
										this = scope:nvgm_target_construction_country_3
										this = scope:nvgm_target_construction_country_4
										this = scope:nvgm_target_construction_country_5
										# this = scope:nvgm_target_construction_country_6
									}
								}
								save_scope_as = nvgm_target_construction_country_6
							}
						}
					}
				}
			}
		}
	}
	option = {
		name = nvgm_establish_construction_sector_events.1.a
		trigger = {
			exists = scope:nvgm_target_construction_country_1
		}
		scope:nvgm_target_construction_country_1 = {
			set_variable = nvgm_target_construction_country_variable
		}
		# clear_saved_scope = nvgm_target_construction_country_1
		clear_saved_scope = nvgm_target_construction_country_2
		clear_saved_scope = nvgm_target_construction_country_3
		clear_saved_scope = nvgm_target_construction_country_4
		clear_saved_scope = nvgm_target_construction_country_5
		clear_saved_scope = nvgm_target_construction_country_6
		hidden_effect = {
			trigger_event = {
				id = nvgm_establish_construction_sector_events.2
				popup = yes
			}
		}
		set_variable = {
			name = nvgm_target_construction_country_temp_variable
			value = 15
		}
	}
	option = {
		name = nvgm_establish_construction_sector_events.1.b
		trigger = {
			exists = scope:nvgm_target_construction_country_2
		}
		scope:nvgm_target_construction_country_2 = {
			set_variable = nvgm_target_construction_country_variable
		}
		clear_saved_scope = nvgm_target_construction_country_1
		# clear_saved_scope = nvgm_target_construction_country_2
		clear_saved_scope = nvgm_target_construction_country_3
		clear_saved_scope = nvgm_target_construction_country_4
		clear_saved_scope = nvgm_target_construction_country_5
		clear_saved_scope = nvgm_target_construction_country_6
		hidden_effect = {
			trigger_event = {
				id = nvgm_establish_construction_sector_events.2
				popup = yes
			}
		}
		set_variable = {
			name = nvgm_target_construction_country_temp_variable
			value = 15
		}
	}
	option = {
		name = nvgm_establish_construction_sector_events.1.c
		trigger = {
			exists = scope:nvgm_target_construction_country_3
		}
		scope:nvgm_target_construction_country_3 = {
			set_variable = nvgm_target_construction_country_variable
		}
		clear_saved_scope = nvgm_target_construction_country_1
		clear_saved_scope = nvgm_target_construction_country_2
		# clear_saved_scope = nvgm_target_construction_country_3
		clear_saved_scope = nvgm_target_construction_country_4
		clear_saved_scope = nvgm_target_construction_country_5
		clear_saved_scope = nvgm_target_construction_country_6
		hidden_effect = {
			trigger_event = {
				id = nvgm_establish_construction_sector_events.2
				popup = yes
			}
		}
		set_variable = {
			name = nvgm_target_construction_country_temp_variable
			value = 15
		}
	}
	option = {
		name = nvgm_establish_construction_sector_events.1.d
		trigger = {
			exists = scope:nvgm_target_construction_country_4
		}
		scope:nvgm_target_construction_country_4 = {
			set_variable = nvgm_target_construction_country_variable
		}
		clear_saved_scope = nvgm_target_construction_country_1
		clear_saved_scope = nvgm_target_construction_country_2
		clear_saved_scope = nvgm_target_construction_country_3
		# clear_saved_scope = nvgm_target_construction_country_4
		clear_saved_scope = nvgm_target_construction_country_5
		clear_saved_scope = nvgm_target_construction_country_6
		hidden_effect = {
			trigger_event = {
				id = nvgm_establish_construction_sector_events.2
				popup = yes
			}
		}
		set_variable = {
			name = nvgm_target_construction_country_temp_variable
			value = 15
		}
	}
	option = {
		name = nvgm_establish_construction_sector_events.1.e
		trigger = {
			exists = scope:nvgm_target_construction_country_5
		}
		scope:nvgm_target_construction_country_5 = {
			set_variable = nvgm_target_construction_country_variable
		}
		clear_saved_scope = nvgm_target_construction_country_1
		clear_saved_scope = nvgm_target_construction_country_2
		clear_saved_scope = nvgm_target_construction_country_3
		clear_saved_scope = nvgm_target_construction_country_4
		# clear_saved_scope = nvgm_target_construction_country_5
		clear_saved_scope = nvgm_target_construction_country_6
		hidden_effect = {
			trigger_event = {
				id = nvgm_establish_construction_sector_events.2
				popup = yes
			}
		}
		set_variable = {
			name = nvgm_target_construction_country_temp_variable
			value = 15
		}
	}
	option = {
		name = nvgm_establish_construction_sector_events.1.f
		trigger = {
			exists = scope:nvgm_target_construction_country_6
		}
		scope:nvgm_target_construction_country_6 = {
			set_variable = nvgm_target_construction_country_variable
		}
		clear_saved_scope = nvgm_target_construction_country_1
		clear_saved_scope = nvgm_target_construction_country_2
		clear_saved_scope = nvgm_target_construction_country_3
		clear_saved_scope = nvgm_target_construction_country_4
		clear_saved_scope = nvgm_target_construction_country_5
		# clear_saved_scope = nvgm_target_construction_country_6
		hidden_effect = {
			trigger_event = {
				id = nvgm_establish_construction_sector_events.2
				popup = yes
			}
		}
		set_variable = {
			name = nvgm_target_construction_country_temp_variable
			value = 15
		}
	}
	# 戻る
	option = {
		name = nvgm_establish_company_events.1.reset
		clear_saved_scope = nvgm_target_construction_country_1
		clear_saved_scope = nvgm_target_construction_country_2
		clear_saved_scope = nvgm_target_construction_country_3
		clear_saved_scope = nvgm_target_construction_country_4
		clear_saved_scope = nvgm_target_construction_country_5
		clear_saved_scope = nvgm_target_construction_country_6
		hidden_effect = {
			trigger_event = {
				id = nvgm_establish_construction_sector_events.1
			}
		}
	}
	# 閉じる
	option = {
		name = nvgm_establish_company_events.1.close
		clear_saved_scope = nvgm_target_construction_country_1
		clear_saved_scope = nvgm_target_construction_country_2
		clear_saved_scope = nvgm_target_construction_country_3
		clear_saved_scope = nvgm_target_construction_country_4
		clear_saved_scope = nvgm_target_construction_country_5
		clear_saved_scope = nvgm_target_construction_country_6
		remove_variable = nvgm_establish_construction_sector_events_now_var
	}
	after = {
		# clear_saved_scope = nvgm_target_construction_country
		clear_saved_scope = nvgm_target_construction_country_1
		clear_saved_scope = nvgm_target_construction_country_2
		clear_saved_scope = nvgm_target_construction_country_3
		clear_saved_scope = nvgm_target_construction_country_4
		clear_saved_scope = nvgm_target_construction_country_5
		clear_saved_scope = nvgm_target_construction_country_6
	}
}

nvgm_establish_construction_sector_events.2 = {
	type = country_event
	placement = root
	title = nvgm_establish_construction_sector_events.2.title
	desc = nvgm_establish_construction_sector_events.2.desc
	flavor = nvgm_establish_construction_sector_events.2.flavor
	event_image = {
		video = "votp_gunboat_diplomacy"
	}
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	icon = "gfx/interface/icons/event_icons/event_trade.dds"
	duration = 3
	trigger = {
		# Triggered by JE
	}
	immediate = {
		set_variable = {
			name = nvgm_target_construction_country_modifier_variable
			value = modifier:country_construction_add
		}
		change_variable = {
			name = nvgm_target_construction_country_modifier_variable
			divide = 15
		}
		if = {
			limit = {
				var:nvgm_target_construction_country_modifier_variable <= var:nvgm_establish_construction_sector_events_var
			}
			change_variable = {
				name = nvgm_establish_construction_sector_events_var
				multiply = 0
			}
			change_variable = {
				name = nvgm_establish_construction_sector_events_var
				add = var:nvgm_target_construction_country_modifier_variable
			}
		}
		remove_variable = nvgm_target_construction_country_modifier_variable
		random_country = {
			limit = {
				has_variable = nvgm_target_construction_country_variable
			}
			save_scope_as = nvgm_target_construction_country
		}
	}
	option = {
		name = nvgm_establish_construction_sector_events.2.a
		scope:nvgm_target_construction_country = {
			add_modifier = {
				name = nvgm_target_construction_country_modifier
				multiplier = root.var:nvgm_establish_construction_sector_events_var
				years = 1
			}
		}
		add_modifier = {
			name = nvgm_construction_country_modifier
			multiplier = var:nvgm_establish_construction_sector_events_var
			years = 1
		}
		remove_variable = nvgm_establish_construction_sector_events_now_var
		remove_variable = nvgm_target_construction_country_temp_variable
		scope:nvgm_target_construction_country = {
			remove_variable = nvgm_target_construction_country_variable
		}
	}
	option = {
		name = nvgm_establish_construction_sector_events.2.b
		hidden_effect = {
			trigger_event = {
				id = nvgm_establish_construction_sector_events.2
			}
		}
		change_variable = {
			name = nvgm_establish_construction_sector_events_var
			add = 1
		}
		set_variable = {
			name = nvgm_target_construction_country_modifier_variable
			value = modifier:country_construction_add
		}
		change_variable = {
			name = nvgm_target_construction_country_modifier_variable
			divide = 15
		}
		change_variable = {
			name = nvgm_target_construction_country_temp_variable
			add = 15
		}
		if = {
			limit = {
				var:nvgm_target_construction_country_modifier_variable <= var:nvgm_establish_construction_sector_events_var
			}
			change_variable = {
				name = nvgm_establish_construction_sector_events_var
				multiply = 0
			}
			change_variable = {
				name = nvgm_establish_construction_sector_events_var
				add = var:nvgm_target_construction_country_modifier_variable
			}
			change_variable = {
				name = nvgm_establish_construction_sector_events_var
				add = 0.1
			}
			change_variable = {
				name = nvgm_target_construction_country_temp_variable
				multiply = 0
			}
			change_variable = {
				name = nvgm_target_construction_country_temp_variable
				add = var:nvgm_target_construction_country_modifier_variable
			}
			change_variable = {
				name = nvgm_target_construction_country_temp_variable
				multiply = 15
			}
			change_variable = {
				name = nvgm_target_construction_country_temp_variable
				add = 0.1
			}
		}
		remove_variable = nvgm_target_construction_country_modifier_variable
	}
	option = {
		name = nvgm_establish_construction_sector_events.2.c
		hidden_effect = {
			trigger_event = {
				id = nvgm_establish_construction_sector_events.2
			}
		}
		change_variable = {
			name = nvgm_establish_construction_sector_events_var
			multiply = 2
		}
		set_variable = {
			name = nvgm_target_construction_country_modifier_variable
			value = modifier:country_construction_add
		}
		change_variable = {
			name = nvgm_target_construction_country_modifier_variable
			divide = 15
		}
		change_variable = {
			name = nvgm_target_construction_country_temp_variable
			multiply = 2
		}
		if = {
			limit = {
				var:nvgm_target_construction_country_modifier_variable <= var:nvgm_establish_construction_sector_events_var
			}
			change_variable = {
				name = nvgm_establish_construction_sector_events_var
				multiply = 0
			}
			change_variable = {
				name = nvgm_establish_construction_sector_events_var
				add = var:nvgm_target_construction_country_modifier_variable
			}
			change_variable = {
				name = nvgm_establish_construction_sector_events_var
				add = 0.1
			}
			change_variable = {
				name = nvgm_target_construction_country_temp_variable
				multiply = 0
			}
			change_variable = {
				name = nvgm_target_construction_country_temp_variable
				add = var:nvgm_target_construction_country_modifier_variable
			}
			change_variable = {
				name = nvgm_target_construction_country_temp_variable
				multiply = 15
			}
			change_variable = {
				name = nvgm_target_construction_country_temp_variable
				add = 0.1
			}
		}
		remove_variable = nvgm_target_construction_country_modifier_variable
	}
	option = {
		name = nvgm_establish_construction_sector_events.2.d
		hidden_effect = {
			trigger_event = {
				id = nvgm_establish_construction_sector_events.2
			}
		}
		change_variable = {
			name = nvgm_establish_construction_sector_events_var
			multiply = 10
		}
		set_variable = {
			name = nvgm_target_construction_country_modifier_variable
			value = modifier:country_construction_add
		}
		change_variable = {
			name = nvgm_target_construction_country_modifier_variable
			divide = 15
		}
		change_variable = {
			name = nvgm_target_construction_country_temp_variable
			multiply = 10
		}
		if = {
			limit = {
				var:nvgm_target_construction_country_modifier_variable <= var:nvgm_establish_construction_sector_events_var
			}
			change_variable = {
				name = nvgm_establish_construction_sector_events_var
				multiply = 0
			}
			change_variable = {
				name = nvgm_establish_construction_sector_events_var
				add = var:nvgm_target_construction_country_modifier_variable
			}
			change_variable = {
				name = nvgm_establish_construction_sector_events_var
				add = 0.005
			}
			change_variable = {
				name = nvgm_target_construction_country_temp_variable
				multiply = 0
			}
			change_variable = {
				name = nvgm_target_construction_country_temp_variable
				add = var:nvgm_target_construction_country_modifier_variable
			}
			change_variable = {
				name = nvgm_target_construction_country_temp_variable
				multiply = 15
			}
			change_variable = {
				name = nvgm_target_construction_country_temp_variable
				add = 0.1
			}
		}
		remove_variable = nvgm_target_construction_country_modifier_variable
	}
	# 戻る
	option = {
		name = nvgm_establish_company_events.1.reset
		scope:nvgm_target_construction_country = {
			remove_variable = nvgm_target_construction_country_variable
		}
		clear_saved_scope = nvgm_target_construction_country
		remove_variable = nvgm_target_construction_country_temp_variable
		hidden_effect = {
			trigger_event = {
				id = nvgm_establish_construction_sector_events.1
			}
		}
	}
	# やめる
	option = {
		name = nvgm_establish_company_events.1.close
		scope:nvgm_target_construction_country = {
			remove_variable = nvgm_target_construction_country_variable
		}
		remove_variable = nvgm_establish_construction_sector_events_now_var
		remove_variable = nvgm_target_construction_country_temp_variable
	}
}

# 棄民政策
namespace = nvgm_migration_events
nvgm_migration_events.1 = {
	type = country_event
	placement = root
	title = nvgm_migration_events.1.title
	desc = nvgm_migration_events.1.desc
	flavor = nvgm_migration_events.1.flavor
	event_image = {
		video = "votp_gunboat_diplomacy"
	}
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	icon = "gfx/interface/icons/event_icons/event_trade.dds"
	duration = 3
	trigger = {
		# Triggered by JE
	}
	immediate = {
		random_scope_state = {
			limit = {
				state_population <= 500000
				NOR = {
					# this = scope:nvgm_target_state_1
					this = scope:nvgm_target_state_2
					this = scope:nvgm_target_state_3
					this = scope:nvgm_target_state_4
					this = scope:nvgm_target_state_5
					this = scope:nvgm_target_state_6
					this = scope:nvgm_target_state_7
					this = scope:nvgm_target_state_8
					this = scope:nvgm_target_state_9
					this = scope:nvgm_target_state_10
					this = scope:nvgm_target_state_11
					this = scope:nvgm_target_state_12
				}
			}
			save_scope_as = nvgm_target_state_1
			root = {
				random_scope_state = {
					limit = {
						state_population <= 500000
						NOR = {
							this = scope:nvgm_target_state_1
							# this = scope:nvgm_target_state_2
							this = scope:nvgm_target_state_3
							this = scope:nvgm_target_state_4
							this = scope:nvgm_target_state_5
							this = scope:nvgm_target_state_6
							this = scope:nvgm_target_state_7
							this = scope:nvgm_target_state_8
							this = scope:nvgm_target_state_9
							this = scope:nvgm_target_state_10
							this = scope:nvgm_target_state_11
							this = scope:nvgm_target_state_12
						}
					}
					save_scope_as = nvgm_target_state_2
					root = {
						random_scope_state = {
							limit = {
								state_population <= 500000
								NOR = {
									this = scope:nvgm_target_state_1
									this = scope:nvgm_target_state_2
									# this = scope:nvgm_target_state_3
									this = scope:nvgm_target_state_4
									this = scope:nvgm_target_state_5
									this = scope:nvgm_target_state_6
									this = scope:nvgm_target_state_7
									this = scope:nvgm_target_state_8
									this = scope:nvgm_target_state_9
									this = scope:nvgm_target_state_10
									this = scope:nvgm_target_state_11
									this = scope:nvgm_target_state_12
								}
							}
							save_scope_as = nvgm_target_state_3
							root = {
								random_scope_state = {
									limit = {
										state_population <= 500000
										NOR = {
											this = scope:nvgm_target_state_1
											this = scope:nvgm_target_state_2
											this = scope:nvgm_target_state_3
											# this = scope:nvgm_target_state_4
											this = scope:nvgm_target_state_5
											this = scope:nvgm_target_state_6
											this = scope:nvgm_target_state_7
											this = scope:nvgm_target_state_8
											this = scope:nvgm_target_state_9
											this = scope:nvgm_target_state_10
											this = scope:nvgm_target_state_11
											this = scope:nvgm_target_state_12
										}
									}
									save_scope_as = nvgm_target_state_4
									root = {
										random_scope_state = {
											limit = {
												state_population <= 500000
												NOR = {
													this = scope:nvgm_target_state_1
													this = scope:nvgm_target_state_2
													this = scope:nvgm_target_state_3
													this = scope:nvgm_target_state_4
													# this = scope:nvgm_target_state_5
													this = scope:nvgm_target_state_6
													this = scope:nvgm_target_state_7
													this = scope:nvgm_target_state_8
													this = scope:nvgm_target_state_9
													this = scope:nvgm_target_state_10
													this = scope:nvgm_target_state_11
													this = scope:nvgm_target_state_12
												}
											}
											save_scope_as = nvgm_target_state_5
											root = {
												random_scope_state = {
													limit = {
														state_population <= 500000
														NOR = {
															this = scope:nvgm_target_state_1
															this = scope:nvgm_target_state_2
															this = scope:nvgm_target_state_3
															this = scope:nvgm_target_state_4
															this = scope:nvgm_target_state_5
															# this = scope:nvgm_target_state_6
															this = scope:nvgm_target_state_7
															this = scope:nvgm_target_state_8
															this = scope:nvgm_target_state_9
															this = scope:nvgm_target_state_10
															this = scope:nvgm_target_state_11
															this = scope:nvgm_target_state_12
														}
													}
													save_scope_as = nvgm_target_state_6
												}
												root = {
													random_scope_state = {
														limit = {
															state_population <= 500000
															NOR = {
																this = scope:nvgm_target_state_1
																this = scope:nvgm_target_state_2
																this = scope:nvgm_target_state_3
																this = scope:nvgm_target_state_4
																this = scope:nvgm_target_state_5
																this = scope:nvgm_target_state_6
																# this = scope:nvgm_target_state_7
																this = scope:nvgm_target_state_8
																this = scope:nvgm_target_state_9
																this = scope:nvgm_target_state_10
																this = scope:nvgm_target_state_11
																this = scope:nvgm_target_state_12
															}
														}
														save_scope_as = nvgm_target_state_7
													}
													root = {
														random_scope_state = {
															limit = {
																state_population <= 500000
																NOR = {
																	this = scope:nvgm_target_state_1
																	this = scope:nvgm_target_state_2
																	this = scope:nvgm_target_state_3
																	this = scope:nvgm_target_state_4
																	this = scope:nvgm_target_state_5
																	this = scope:nvgm_target_state_6
																	this = scope:nvgm_target_state_7
																	# this = scope:nvgm_target_state_8
																	this = scope:nvgm_target_state_9
																	this = scope:nvgm_target_state_10
																	this = scope:nvgm_target_state_11
																	this = scope:nvgm_target_state_12
																}
															}
															save_scope_as = nvgm_target_state_8
														}
														root = {
															random_scope_state = {
																limit = {
																	state_population <= 500000
																	NOR = {
																		this = scope:nvgm_target_state_1
																		this = scope:nvgm_target_state_2
																		this = scope:nvgm_target_state_3
																		this = scope:nvgm_target_state_4
																		this = scope:nvgm_target_state_5
																		this = scope:nvgm_target_state_6
																		this = scope:nvgm_target_state_7
																		this = scope:nvgm_target_state_8
																		# this = scope:nvgm_target_state_9
																		this = scope:nvgm_target_state_10
																		this = scope:nvgm_target_state_11
																		this = scope:nvgm_target_state_12
																	}
																}
																save_scope_as = nvgm_target_state_9
															}
															root = {
																random_scope_state = {
																	limit = {
																		state_population <= 500000
																		NOR = {
																			this = scope:nvgm_target_state_1
																			this = scope:nvgm_target_state_2
																			this = scope:nvgm_target_state_3
																			this = scope:nvgm_target_state_4
																			this = scope:nvgm_target_state_5
																			this = scope:nvgm_target_state_6
																			this = scope:nvgm_target_state_7
																			this = scope:nvgm_target_state_8
																			this = scope:nvgm_target_state_9
																			# this = scope:nvgm_target_state_10
																			this = scope:nvgm_target_state_11
																			this = scope:nvgm_target_state_12
																		}
																	}
																	save_scope_as = nvgm_target_state_10
																}
																root = {
																	random_scope_state = {
																		limit = {
																			state_population <= 500000
																			NOR = {
																				this = scope:nvgm_target_state_1
																				this = scope:nvgm_target_state_2
																				this = scope:nvgm_target_state_3
																				this = scope:nvgm_target_state_4
																				this = scope:nvgm_target_state_5
																				this = scope:nvgm_target_state_6
																				this = scope:nvgm_target_state_7
																				this = scope:nvgm_target_state_8
																				this = scope:nvgm_target_state_9
																				this = scope:nvgm_target_state_10
																				# this = scope:nvgm_target_state_11
																				this = scope:nvgm_target_state_12
																			}
																		}
																		save_scope_as = nvgm_target_state_11
																	}
																	root = {
																		random_scope_state = {
																			limit = {
																				state_population <= 500000
																				NOR = {
																					this = scope:nvgm_target_state_1
																					this = scope:nvgm_target_state_2
																					this = scope:nvgm_target_state_3
																					this = scope:nvgm_target_state_4
																					this = scope:nvgm_target_state_5
																					this = scope:nvgm_target_state_6
																					this = scope:nvgm_target_state_7
																					this = scope:nvgm_target_state_8
																					this = scope:nvgm_target_state_9
																					this = scope:nvgm_target_state_10
																					this = scope:nvgm_target_state_11
																					# this = scope:nvgm_target_state_12
																				}
																			}
																			save_scope_as = nvgm_target_state_12
																		}
																	}
																}
															}
														}
													}
												}
											}
										}
									}
								}
							}
						}
					}
				}
			}
		}
		if = {
			limit = {
				exists = scope:nvgm_target_state
			}
			clear_saved_scope = nvgm_target_state
		}
		set_variable = nvgm_migration_events_now_var
	}
	option = {
		name = nvgm_migration_events.1.a
		trigger = {
			exists = scope:nvgm_target_state_1
		}
		scope:nvgm_target_state_1 = {
			set_variable = nvgm_target_state_variable
		}
		add_journal_entry = {
			type = je_nvgm_abandonment_policy
		}
		remove_variable = nvgm_migration_events_now_var
	}
	option = {
		name = nvgm_migration_events.1.b
		trigger = {
			exists = scope:nvgm_target_state_2
		}
		scope:nvgm_target_state_2 = {
			set_variable = nvgm_target_state_variable
		}
		add_journal_entry = {
			type = je_nvgm_abandonment_policy
		}
		remove_variable = nvgm_migration_events_now_var
	}
	option = {
		name = nvgm_migration_events.1.c
		trigger = {
			exists = scope:nvgm_target_state_3
		}
		scope:nvgm_target_state_3 = {
			set_variable = nvgm_target_state_variable
		}
		add_journal_entry = {
			type = je_nvgm_abandonment_policy
		}
		remove_variable = nvgm_migration_events_now_var
	}
	option = {
		name = nvgm_migration_events.1.d
		trigger = {
			exists = scope:nvgm_target_state_4
		}
		scope:nvgm_target_state_4 = {
			set_variable = nvgm_target_state_variable
		}
		add_journal_entry = {
			type = je_nvgm_abandonment_policy
		}
		remove_variable = nvgm_migration_events_now_var
	}
	option = {
		name = nvgm_migration_events.1.e
		trigger = {
			exists = scope:nvgm_target_state_5
		}
		scope:nvgm_target_state_5 = {
			set_variable = nvgm_target_state_variable
		}
		add_journal_entry = {
			type = je_nvgm_abandonment_policy
		}
		remove_variable = nvgm_migration_events_now_var
	}
	option = {
		name = nvgm_migration_events.1.f
		trigger = {
			exists = scope:nvgm_target_state_6
		}
		scope:nvgm_target_state_6 = {
			set_variable = nvgm_target_state_variable
		}
		add_journal_entry = {
			type = je_nvgm_abandonment_policy
		}
		remove_variable = nvgm_migration_events_now_var
	}
	option = {
		name = nvgm_migration_events.1.g
		trigger = {
			exists = scope:nvgm_target_state_7
		}
		scope:nvgm_target_state_7 = {
			set_variable = nvgm_target_state_variable
		}
		add_journal_entry = {
			type = je_nvgm_abandonment_policy
		}
		remove_variable = nvgm_migration_events_now_var
	}
	option = {
		name = nvgm_migration_events.1.h
		trigger = {
			exists = scope:nvgm_target_state_8
		}
		scope:nvgm_target_state_8 = {
			set_variable = nvgm_target_state_variable
		}
		add_journal_entry = {
			type = je_nvgm_abandonment_policy
		}
		remove_variable = nvgm_migration_events_now_var
	}
	option = {
		name = nvgm_migration_events.1.i
		trigger = {
			exists = scope:nvgm_target_state_9
		}
		scope:nvgm_target_state_9 = {
			set_variable = nvgm_target_state_variable
		}
		add_journal_entry = {
			type = je_nvgm_abandonment_policy
		}
		remove_variable = nvgm_migration_events_now_var
	}
	option = {
		name = nvgm_migration_events.1.j
		trigger = {
			exists = scope:nvgm_target_state_10
		}
		scope:nvgm_target_state_10 = {
			set_variable = nvgm_target_state_variable
		}
		add_journal_entry = {
			type = je_nvgm_abandonment_policy
		}
		remove_variable = nvgm_migration_events_now_var
	}
	option = {
		name = nvgm_migration_events.1.k
		trigger = {
			exists = scope:nvgm_target_state_11
		}
		scope:nvgm_target_state_11 = {
			set_variable = nvgm_target_state_variable
		}
		add_journal_entry = {
			type = je_nvgm_abandonment_policy
		}
		remove_variable = nvgm_migration_events_now_var
	}
	option = {
		name = nvgm_migration_events.1.l
		trigger = {
			exists = scope:nvgm_target_state_12
		}
		scope:nvgm_target_state_12 = {
			set_variable = nvgm_target_state_variable
		}
		add_journal_entry = {
			type = je_nvgm_abandonment_policy
		}
		remove_variable = nvgm_migration_events_now_var
	}
	# 従属国
	# option = {
	# 	name = nvgm_migration_events.1.n
	# 	trigger = {
	# 		any_subject_or_below = {
	# 			is_direct_subject_of = root
	# 			any_scope_state = {
	# 				state_population <= 500000
	# 			}
	# 		}
	# 	}
	# 	trigger_event = nvgm_migration_events.4
	# }
	# リセット
	option = {
		name = nvgm_establish_company_events.1.reset
		hidden_effect = {
			trigger_event = {
				id = nvgm_migration_events.1
			}
		}
		remove_variable = nvgm_migration_events_now_var
	}
	# やめる
	option = {
		name = nvgm_establish_company_events.1.close
		remove_variable = nvgm_migration_events_now_var
	}
	after = {
		clear_saved_scope = nvgm_target_state_1
		clear_saved_scope = nvgm_target_state_2
		clear_saved_scope = nvgm_target_state_3
		clear_saved_scope = nvgm_target_state_4
		clear_saved_scope = nvgm_target_state_5
		clear_saved_scope = nvgm_target_state_6
		clear_saved_scope = nvgm_target_state_7
		clear_saved_scope = nvgm_target_state_8
		clear_saved_scope = nvgm_target_state_9
		clear_saved_scope = nvgm_target_state_10
		clear_saved_scope = nvgm_target_state_11
		clear_saved_scope = nvgm_target_state_12
	}
}

nvgm_migration_events.2 = {
	type = country_event
	placement = root
	title = nvgm_migration_events.2.title
	desc = nvgm_migration_events.2.desc
	flavor = nvgm_migration_events.2.flavor
	event_image = {
		video = "votp_gunboat_diplomacy"
	}
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	icon = "gfx/interface/icons/event_icons/event_trade.dds"
	duration = 1
	trigger = {
		# Triggered by JE
	}
	immediate = {
		change_variable = {
			name = nvgm_abandonment_policy_var
			multiply = 0
		}
		random_scope_state = {
			limit = {
				has_variable = nvgm_target_state_variable
			}
			save_scope_as = nvgm_target_state
		}
		random_scope_state = {
			limit = {
				is_incorporated = yes
				state_population >= 1000000
				any_scope_pop = {
					pop_acceptance < acceptance_status_4
					total_size >= 1000
				}
			}
			save_scope_as = nvgm_abandonment_state
			random_scope_pop = {
				limit = {
					pop_acceptance < acceptance_status_4
					total_size >= 1000
				}
				save_scope_as = nvgm_target_pop
			}
		}
		change_variable = {
			name = nvgm_abandonment_policy_var
			add = nvgm_state_population
		}
	}
	option = {
		trigger = {
			scope:nvgm_abandonment_state = {
				any_scope_pop = {
					# total_size >= 10000
					pop_acceptance < acceptance_status_4
				}
			}
		}
		name = nvgm_migration_events.2.a
		default_option = yes
		scope:nvgm_target_pop = {
			move_pop = scope:nvgm_target_state
		}
		scope:nvgm_abandonment_state = {
			add_loyalists_in_state = {
				value = small_radicals
				strata >= middle
			}
			# add_radicals_in_state = {
			# 	value = small_radicals
			# 	strata = poor
			# }
		}
		hidden_effect = {
			trigger_event = {
				id = nvgm_migration_events.3
				days = 1
			}
		}
	}
	# リセット
	# option = {
	# 	name = nvgm_establish_company_events.1.reset
	# 	hidden_effect = {
	# 		trigger_event = {
	# 			id = nvgm_migration_events.2
	# 		}
	# 	}
	# 	change_variable = {
	# 		name = nvgm_abandonment_policy_var
	# 		multiply = 0
	# 	}
	# }
	# やめる
	option = {
		name = nvgm_migration_events.2.close
		change_variable = {
			name = nvgm_abandonment_policy_var
			multiply = 0
		}
	}
}

nvgm_migration_events.3 = {
	type = country_event
	hidden = yes
	trigger = {
		# Triggered by JE
	}
	immediate = {
		random_scope_state = {
			limit = {
				has_variable = nvgm_target_state_variable
			}
			save_scope_as = nvgm_target_state
		}
		change_variable = {
			name = nvgm_abandonment_policy_var
			subtract = nvgm_state_population
		}
		change_variable = {
			name = nvgm_abandonment_policy_var
			multiply = -1
		}
		je:je_nvgm_abandonment_policy = {
			add_progress = {
				value = root.var:nvgm_abandonment_policy_var
				name = nvgm_abandonment_policy_progress_bar
			}
		}
		change_variable = {
			name = nvgm_abandonment_policy_var
			multiply = 0
		}
	}
}

nvgm_migration_events.4 = {
	type = country_event
	placement = root
	title = nvgm_migration_events.4.title
	desc = nvgm_migration_events.4.desc
	flavor = nvgm_migration_events.4.flavor
	event_image = {
		video = "votp_gunboat_diplomacy"
	}
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	icon = "gfx/interface/icons/event_icons/event_trade.dds"
	duration = 1
	trigger = {
		# Triggered by JE
	}
	immediate = {
		random_country = {
			limit = {
				is_direct_subject_of = root
				NOR = {
					# this = scope:nvgm_target_migration_country_1
					this = scope:nvgm_target_migration_country_2
					this = scope:nvgm_target_migration_country_3
					this = scope:nvgm_target_migration_country_4
					this = scope:nvgm_target_migration_country_5
					this = scope:nvgm_target_migration_country_6
				}
			}
			save_scope_as = nvgm_target_migration_country_1
			random_country = {
				limit = {
					is_direct_subject_of = root
					NOR = {
						this = scope:nvgm_target_migration_country_1
						# this = scope:nvgm_target_migration_country_2
						this = scope:nvgm_target_migration_country_3
						this = scope:nvgm_target_migration_country_4
						this = scope:nvgm_target_migration_country_5
						this = scope:nvgm_target_migration_country_6
					}
				}
				save_scope_as = nvgm_target_migration_country_2
				random_country = {
					limit = {
						is_direct_subject_of = root
						NOR = {
							this = scope:nvgm_target_migration_country_1
							this = scope:nvgm_target_migration_country_2
							# this = scope:nvgm_target_migration_country_3
							this = scope:nvgm_target_migration_country_4
							this = scope:nvgm_target_migration_country_5
							this = scope:nvgm_target_migration_country_6
						}
					}
					save_scope_as = nvgm_target_migration_country_3
					random_country = {
						limit = {
							is_direct_subject_of = root
							NOR = {
								this = scope:nvgm_target_migration_country_1
								this = scope:nvgm_target_migration_country_2
								this = scope:nvgm_target_migration_country_3
								# this = scope:nvgm_target_migration_country_4
								this = scope:nvgm_target_migration_country_5
								this = scope:nvgm_target_migration_country_6
							}
						}
						save_scope_as = nvgm_target_migration_country_4
						random_country = {
							limit = {
								is_direct_subject_of = root
								NOR = {
									this = scope:nvgm_target_migration_country_1
									this = scope:nvgm_target_migration_country_2
									this = scope:nvgm_target_migration_country_3
									this = scope:nvgm_target_migration_country_4
									# this = scope:nvgm_target_migration_country_5
									this = scope:nvgm_target_migration_country_6
								}
							}
							save_scope_as = nvgm_target_migration_country_5
							random_country = {
								limit = {
									is_direct_subject_of = root
									NOR = {
										this = scope:nvgm_target_migration_country_1
										this = scope:nvgm_target_migration_country_2
										this = scope:nvgm_target_migration_country_3
										this = scope:nvgm_target_migration_country_4
										this = scope:nvgm_target_migration_country_5
										# this = scope:nvgm_target_migration_country_6
									}
								}
								save_scope_as = nvgm_target_migration_country_6
							}
						}
					}
				}
			}
		}
	}
	option = {
		name = nvgm_migration_events.4.a
		trigger = {
			exists = scope:nvgm_target_migration_country_1
		}
		scope:nvgm_target_migration_country_1 = {
			set_variable = nvgm_target_migration_country_variable
		}
		# clear_saved_scope = nvgm_target_migration_country_1
		clear_saved_scope = nvgm_target_migration_country_2
		clear_saved_scope = nvgm_target_migration_country_3
		clear_saved_scope = nvgm_target_migration_country_4
		clear_saved_scope = nvgm_target_migration_country_5
		clear_saved_scope = nvgm_target_migration_country_6
		hidden_effect = {
			trigger_event = {
				id = nvgm_migration_events.5
				popup = yes
			}
		}
	}
	option = {
		name = nvgm_migration_events.4.b
		trigger = {
			exists = scope:nvgm_target_migration_country_2
		}
		scope:nvgm_target_migration_country_2 = {
			set_variable = nvgm_target_migration_country_variable
		}
		clear_saved_scope = nvgm_target_migration_country_1
		# clear_saved_scope = nvgm_target_migration_country_2
		clear_saved_scope = nvgm_target_migration_country_3
		clear_saved_scope = nvgm_target_migration_country_4
		clear_saved_scope = nvgm_target_migration_country_5
		clear_saved_scope = nvgm_target_migration_country_6
		hidden_effect = {
			trigger_event = {
				id = nvgm_migration_events.5
				popup = yes
			}
		}
	}
	option = {
		name = nvgm_migration_events.4.c
		trigger = {
			exists = scope:nvgm_target_migration_country_3
		}
		scope:nvgm_target_migration_country_3 = {
			set_variable = nvgm_target_migration_country_variable
		}
		clear_saved_scope = nvgm_target_migration_country_1
		clear_saved_scope = nvgm_target_migration_country_2
		# clear_saved_scope = nvgm_target_migration_country_3
		clear_saved_scope = nvgm_target_migration_country_4
		clear_saved_scope = nvgm_target_migration_country_5
		clear_saved_scope = nvgm_target_migration_country_6
		hidden_effect = {
			trigger_event = {
				id = nvgm_migration_events.5
				popup = yes
			}
		}
	}
	option = {
		name = nvgm_migration_events.4.d
		trigger = {
			exists = scope:nvgm_target_migration_country_4
		}
		scope:nvgm_target_migration_country_4 = {
			set_variable = nvgm_target_migration_country_variable
		}
		clear_saved_scope = nvgm_target_migration_country_1
		clear_saved_scope = nvgm_target_migration_country_2
		clear_saved_scope = nvgm_target_migration_country_3
		# clear_saved_scope = nvgm_target_migration_country_4
		clear_saved_scope = nvgm_target_migration_country_5
		clear_saved_scope = nvgm_target_migration_country_6
		hidden_effect = {
			trigger_event = {
				id = nvgm_migration_events.5
				popup = yes
			}
		}
	}
	option = {
		name = nvgm_migration_events.4.e
		trigger = {
			exists = scope:nvgm_target_migration_country_5
		}
		scope:nvgm_target_migration_country_5 = {
			set_variable = nvgm_target_migration_country_variable
		}
		clear_saved_scope = nvgm_target_migration_country_1
		clear_saved_scope = nvgm_target_migration_country_2
		clear_saved_scope = nvgm_target_migration_country_3
		clear_saved_scope = nvgm_target_migration_country_4
		# clear_saved_scope = nvgm_target_migration_country_5
		clear_saved_scope = nvgm_target_migration_country_6
		hidden_effect = {
			trigger_event = {
				id = nvgm_migration_events.5
				popup = yes
			}
		}
	}
	option = {
		name = nvgm_migration_events.4.f
		trigger = {
			exists = scope:nvgm_target_migration_country_6
		}
		scope:nvgm_target_migration_country_6 = {
			set_variable = nvgm_target_migration_country_variable
		}
		clear_saved_scope = nvgm_target_migration_country_1
		clear_saved_scope = nvgm_target_migration_country_2
		clear_saved_scope = nvgm_target_migration_country_3
		clear_saved_scope = nvgm_target_migration_country_4
		clear_saved_scope = nvgm_target_migration_country_5
		# clear_saved_scope = nvgm_target_migration_country_6
		hidden_effect = {
			trigger_event = {
				id = nvgm_migration_events.5
				popup = yes
			}
		}
	}
	after = {
		clear_saved_scope = nvgm_target_migration_country_1
		clear_saved_scope = nvgm_target_migration_country_2
		clear_saved_scope = nvgm_target_migration_country_3
		clear_saved_scope = nvgm_target_migration_country_4
		clear_saved_scope = nvgm_target_migration_country_5
		clear_saved_scope = nvgm_target_migration_country_6
		remove_variable = nvgm_migration_events_now_var
	}
	# 戻る
	option = {
		name = nvgm_establish_company_events.1.reset
		clear_saved_scope = nvgm_target_construction_country
		hidden_effect = {
			trigger_event = {
				id = nvgm_migration_events.1
			}
		}
	}
	# 閉じる
	option = {
		name = nvgm_establish_company_events.1.close
	}
}

nvgm_migration_events.5 = {
	type = country_event
	placement = root
	title = nvgm_migration_events.1.title
	desc = nvgm_migration_events.1.desc
	flavor = nvgm_migration_events.1.flavor
	event_image = {
		video = "votp_gunboat_diplomacy"
	}
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	icon = "gfx/interface/icons/event_icons/event_trade.dds"
	duration = 3
	trigger = {
		# Triggered by JE
	}
	immediate = {
		if = {
			limit = {
				exists = scope:nvgm_target_state_1
			}
			scope:nvgm_target_state_1 = {
				clear_saved_scope = nvgm_target_state_1
			}
		}
		if = {
			limit = {
				exists = scope:nvgm_target_state_2
			}
			scope:nvgm_target_state_2 = {
				clear_saved_scope = nvgm_target_state_2
			}
		}
		if = {
			limit = {
				exists = scope:nvgm_target_state_3
			}
			scope:nvgm_target_state_3 = {
				clear_saved_scope = nvgm_target_state_3
			}
		}
		if = {
			limit = {
				exists = scope:nvgm_target_state_4
			}
			scope:nvgm_target_state_4 = {
				clear_saved_scope = nvgm_target_state_4
			}
		}
		if = {
			limit = {
				exists = scope:nvgm_target_state_5
			}
			scope:nvgm_target_state_5 = {
				clear_saved_scope = nvgm_target_state_5
			}
		}
		if = {
			limit = {
				exists = scope:nvgm_target_state_6
			}
			scope:nvgm_target_state_6 = {
				clear_saved_scope = nvgm_target_state_6
			}
		}
		if = {
			limit = {
				exists = scope:nvgm_target_state_7
			}
			scope:nvgm_target_state_7 = {
				clear_saved_scope = nvgm_target_state_7
			}
		}
		if = {
			limit = {
				exists = scope:nvgm_target_state_8
			}
			scope:nvgm_target_state_8 = {
				clear_saved_scope = nvgm_target_state_8
			}
		}
		if = {
			limit = {
				exists = scope:nvgm_target_state_9
			}
			scope:nvgm_target_state_9 = {
				clear_saved_scope = nvgm_target_state_9
			}
		}
		if = {
			limit = {
				exists = scope:nvgm_target_state_10
			}
			scope:nvgm_target_state_10 = {
				clear_saved_scope = nvgm_target_state_10
			}
		}
		if = {
			limit = {
				exists = scope:nvgm_target_state_1
			}
			scope:nvgm_target_state_11 = {
				clear_saved_scope = nvgm_target_state_11
			}
		}
		if = {
			limit = {
				exists = scope:nvgm_target_state_12
			}
			scope:nvgm_target_state_12 = {
				clear_saved_scope = nvgm_target_state_12
			}
		}
		random_country = {
			limit = {
				has_variable = nvgm_target_migration_country_variable
			}
			save_scope_as = nvgm_target_migration_country
		}
		scope:nvgm_target_migration_country = {
			random_scope_state = {
				limit = {
					owner = scope:nvgm_target_migration_country
					state_population <= 500000
					NOR = {
						# this = scope:nvgm_target_state_1
						this = scope:nvgm_target_state_2
						this = scope:nvgm_target_state_3
						this = scope:nvgm_target_state_4
						this = scope:nvgm_target_state_5
						this = scope:nvgm_target_state_6
						this = scope:nvgm_target_state_7
						this = scope:nvgm_target_state_8
						this = scope:nvgm_target_state_9
						this = scope:nvgm_target_state_10
						this = scope:nvgm_target_state_11
						this = scope:nvgm_target_state_12
					}
				}
				save_scope_as = nvgm_target_state_1
				scope:nvgm_target_migration_country = {
					random_scope_state = {
						limit = {
							owner = scope:nvgm_target_migration_country
							state_population <= 500000
							NOR = {
								this = scope:nvgm_target_state_1
								# this = scope:nvgm_target_state_2
								this = scope:nvgm_target_state_3
								this = scope:nvgm_target_state_4
								this = scope:nvgm_target_state_5
								this = scope:nvgm_target_state_6
								this = scope:nvgm_target_state_7
								this = scope:nvgm_target_state_8
								this = scope:nvgm_target_state_9
								this = scope:nvgm_target_state_10
								this = scope:nvgm_target_state_11
								this = scope:nvgm_target_state_12
							}
						}
						save_scope_as = nvgm_target_state_2
						scope:nvgm_target_migration_country = {
							random_scope_state = {
								limit = {
									owner = scope:nvgm_target_migration_country
									state_population <= 500000
									NOR = {
										this = scope:nvgm_target_state_1
										this = scope:nvgm_target_state_2
										# this = scope:nvgm_target_state_3
										this = scope:nvgm_target_state_4
										this = scope:nvgm_target_state_5
										this = scope:nvgm_target_state_6
										this = scope:nvgm_target_state_7
										this = scope:nvgm_target_state_8
										this = scope:nvgm_target_state_9
										this = scope:nvgm_target_state_10
										this = scope:nvgm_target_state_11
										this = scope:nvgm_target_state_12
									}
								}
								save_scope_as = nvgm_target_state_3
								scope:nvgm_target_migration_country = {
									random_scope_state = {
										limit = {
											owner = scope:nvgm_target_migration_country
											state_population <= 500000
											NOR = {
												this = scope:nvgm_target_state_1
												this = scope:nvgm_target_state_2
												this = scope:nvgm_target_state_3
												# this = scope:nvgm_target_state_4
												this = scope:nvgm_target_state_5
												this = scope:nvgm_target_state_6
												this = scope:nvgm_target_state_7
												this = scope:nvgm_target_state_8
												this = scope:nvgm_target_state_9
												this = scope:nvgm_target_state_10
												this = scope:nvgm_target_state_11
												this = scope:nvgm_target_state_12
											}
										}
										save_scope_as = nvgm_target_state_4
										scope:nvgm_target_migration_country = {
											random_scope_state = {
												limit = {
													owner = scope:nvgm_target_migration_country
													state_population <= 500000
													NOR = {
														this = scope:nvgm_target_state_1
														this = scope:nvgm_target_state_2
														this = scope:nvgm_target_state_3
														this = scope:nvgm_target_state_4
														# this = scope:nvgm_target_state_5
														this = scope:nvgm_target_state_6
														this = scope:nvgm_target_state_7
														this = scope:nvgm_target_state_8
														this = scope:nvgm_target_state_9
														this = scope:nvgm_target_state_10
														this = scope:nvgm_target_state_11
														this = scope:nvgm_target_state_12
													}
												}
												save_scope_as = nvgm_target_state_5
												scope:nvgm_target_migration_country = {
													random_scope_state = {
														limit = {
															owner = scope:nvgm_target_migration_country
															state_population <= 500000
															NOR = {
																this = scope:nvgm_target_state_1
																this = scope:nvgm_target_state_2
																this = scope:nvgm_target_state_3
																this = scope:nvgm_target_state_4
																this = scope:nvgm_target_state_5
																# this = scope:nvgm_target_state_6
																this = scope:nvgm_target_state_7
																this = scope:nvgm_target_state_8
																this = scope:nvgm_target_state_9
																this = scope:nvgm_target_state_10
																this = scope:nvgm_target_state_11
																this = scope:nvgm_target_state_12
															}
														}
														save_scope_as = nvgm_target_state_6
													}
													scope:nvgm_target_migration_country = {
														random_scope_state = {
															limit = {
																owner = scope:nvgm_target_migration_country
																state_population <= 500000
																NOR = {
																	this = scope:nvgm_target_state_1
																	this = scope:nvgm_target_state_2
																	this = scope:nvgm_target_state_3
																	this = scope:nvgm_target_state_4
																	this = scope:nvgm_target_state_5
																	this = scope:nvgm_target_state_6
																	# this = scope:nvgm_target_state_7
																	this = scope:nvgm_target_state_8
																	this = scope:nvgm_target_state_9
																	this = scope:nvgm_target_state_10
																	this = scope:nvgm_target_state_11
																	this = scope:nvgm_target_state_12
																}
															}
															save_scope_as = nvgm_target_state_7
														}
														scope:nvgm_target_migration_country = {
															random_scope_state = {
																limit = {
																	owner = scope:nvgm_target_migration_country
																	state_population <= 500000
																	NOR = {
																		this = scope:nvgm_target_state_1
																		this = scope:nvgm_target_state_2
																		this = scope:nvgm_target_state_3
																		this = scope:nvgm_target_state_4
																		this = scope:nvgm_target_state_5
																		this = scope:nvgm_target_state_6
																		this = scope:nvgm_target_state_7
																		# this = scope:nvgm_target_state_8
																		this = scope:nvgm_target_state_9
																		this = scope:nvgm_target_state_10
																		this = scope:nvgm_target_state_11
																		this = scope:nvgm_target_state_12
																	}
																}
																save_scope_as = nvgm_target_state_8
															}
															scope:nvgm_target_migration_country = {
																random_scope_state = {
																	owner = scope:nvgm_target_migration_country
																	limit = {
																		state_population <= 500000
																		NOR = {
																			this = scope:nvgm_target_state_1
																			this = scope:nvgm_target_state_2
																			this = scope:nvgm_target_state_3
																			this = scope:nvgm_target_state_4
																			this = scope:nvgm_target_state_5
																			this = scope:nvgm_target_state_6
																			this = scope:nvgm_target_state_7
																			this = scope:nvgm_target_state_8
																			# this = scope:nvgm_target_state_9
																			this = scope:nvgm_target_state_10
																			this = scope:nvgm_target_state_11
																			this = scope:nvgm_target_state_12
																		}
																	}
																	save_scope_as = nvgm_target_state_9
																}
																scope:nvgm_target_migration_country = {
																	random_scope_state = {
																		limit = {
																			owner = scope:nvgm_target_migration_country
																			state_population <= 500000
																			NOR = {
																				this = scope:nvgm_target_state_1
																				this = scope:nvgm_target_state_2
																				this = scope:nvgm_target_state_3
																				this = scope:nvgm_target_state_4
																				this = scope:nvgm_target_state_5
																				this = scope:nvgm_target_state_6
																				this = scope:nvgm_target_state_7
																				this = scope:nvgm_target_state_8
																				this = scope:nvgm_target_state_9
																				# this = scope:nvgm_target_state_10
																				this = scope:nvgm_target_state_11
																				this = scope:nvgm_target_state_12
																			}
																		}
																		save_scope_as = nvgm_target_state_10
																	}
																	scope:nvgm_target_migration_country = {
																		random_scope_state = {
																			limit = {
																				owner = scope:nvgm_target_migration_country
																				state_population <= 500000
																				NOR = {
																					this = scope:nvgm_target_state_1
																					this = scope:nvgm_target_state_2
																					this = scope:nvgm_target_state_3
																					this = scope:nvgm_target_state_4
																					this = scope:nvgm_target_state_5
																					this = scope:nvgm_target_state_6
																					this = scope:nvgm_target_state_7
																					this = scope:nvgm_target_state_8
																					this = scope:nvgm_target_state_9
																					this = scope:nvgm_target_state_10
																					# this = scope:nvgm_target_state_11
																					this = scope:nvgm_target_state_12
																				}
																			}
																			save_scope_as = nvgm_target_state_11
																		}
																		scope:nvgm_target_migration_country = {
																			random_scope_state = {
																				limit = {
																					owner = scope:nvgm_target_migration_country
																					state_population <= 500000
																					NOR = {
																						this = scope:nvgm_target_state_1
																						this = scope:nvgm_target_state_2
																						this = scope:nvgm_target_state_3
																						this = scope:nvgm_target_state_4
																						this = scope:nvgm_target_state_5
																						this = scope:nvgm_target_state_6
																						this = scope:nvgm_target_state_7
																						this = scope:nvgm_target_state_8
																						this = scope:nvgm_target_state_9
																						this = scope:nvgm_target_state_10
																						this = scope:nvgm_target_state_11
																						# this = scope:nvgm_target_state_12
																					}
																				}
																				save_scope_as = nvgm_target_state_12
																			}
																		}
																	}
																}
															}
														}
													}
												}
											}
										}
									}
								}
							}
						}
					}
				}
			}
		}
	}
	option = {
		name = nvgm_migration_events.1.a
		trigger = {
			exists = scope:nvgm_target_state_1
		}
		scope:nvgm_target_state_1 = {
			set_variable = nvgm_target_state_variable
		}
		add_journal_entry = {
			type = je_nvgm_abandonment_policy
		}
	}
	option = {
		name = nvgm_migration_events.1.b
		trigger = {
			exists = scope:nvgm_target_state_2
		}
		scope:nvgm_target_state_2 = {
			set_variable = nvgm_target_state_variable
		}
		add_journal_entry = {
			type = je_nvgm_abandonment_policy
		}
	}
	option = {
		name = nvgm_migration_events.1.c
		trigger = {
			exists = scope:nvgm_target_state_3
		}
		scope:nvgm_target_state_3 = {
			set_variable = nvgm_target_state_variable
		}
		add_journal_entry = {
			type = je_nvgm_abandonment_policy
		}
	}
	option = {
		name = nvgm_migration_events.1.d
		trigger = {
			exists = scope:nvgm_target_state_4
		}
		scope:nvgm_target_state_4 = {
			set_variable = nvgm_target_state_variable
		}
		add_journal_entry = {
			type = je_nvgm_abandonment_policy
		}
	}
	option = {
		name = nvgm_migration_events.1.e
		trigger = {
			exists = scope:nvgm_target_state_5
		}
		scope:nvgm_target_state_5 = {
			set_variable = nvgm_target_state_variable
		}
		add_journal_entry = {
			type = je_nvgm_abandonment_policy
		}
	}
	option = {
		name = nvgm_migration_events.1.f
		trigger = {
			exists = scope:nvgm_target_state_6
		}
		scope:nvgm_target_state_6 = {
			set_variable = nvgm_target_state_variable
		}
		add_journal_entry = {
			type = je_nvgm_abandonment_policy
		}
	}
	option = {
		name = nvgm_migration_events.1.g
		trigger = {
			exists = scope:nvgm_target_state_7
		}
		scope:nvgm_target_state_7 = {
			set_variable = nvgm_target_state_variable
		}
		add_journal_entry = {
			type = je_nvgm_abandonment_policy
		}
	}
	option = {
		name = nvgm_migration_events.1.h
		trigger = {
			exists = scope:nvgm_target_state_8
		}
		scope:nvgm_target_state_8 = {
			set_variable = nvgm_target_state_variable
		}
		add_journal_entry = {
			type = je_nvgm_abandonment_policy
		}
	}
	option = {
		name = nvgm_migration_events.1.i
		trigger = {
			exists = scope:nvgm_target_state_9
		}
		scope:nvgm_target_state_9 = {
			set_variable = nvgm_target_state_variable
		}
		add_journal_entry = {
			type = je_nvgm_abandonment_policy
		}
	}
	option = {
		name = nvgm_migration_events.1.j
		trigger = {
			exists = scope:nvgm_target_state_10
		}
		scope:nvgm_target_state_10 = {
			set_variable = nvgm_target_state_variable
		}
		add_journal_entry = {
			type = je_nvgm_abandonment_policy
		}
	}
	option = {
		name = nvgm_migration_events.1.k
		trigger = {
			exists = scope:nvgm_target_state_11
		}
		scope:nvgm_target_state_11 = {
			set_variable = nvgm_target_state_variable
		}
		add_journal_entry = {
			type = je_nvgm_abandonment_policy
		}
	}
	option = {
		name = nvgm_migration_events.1.l
		trigger = {
			exists = scope:nvgm_target_state_12
		}
		scope:nvgm_target_state_12 = {
			set_variable = nvgm_target_state_variable
		}
		add_journal_entry = {
			type = je_nvgm_abandonment_policy
		}
	}
	option = {
		name = nvgm_migration_events.1.l
		trigger = {
			any_subject_or_below = {
				is_direct_subject_of = root
				any_scope_state = {
					state_population <= 500000
				}
			}
		}
		trigger_event = nvgm_migration_events.4
	}
	# リセット
	option = {
		name = nvgm_establish_company_events.1.reset
		hidden_effect = {
			trigger_event = {
				id = nvgm_migration_events.1
			}
		}
	}
	# やめる
	option = {
		name = nvgm_establish_company_events.1.close
	}
}

nvgm_migration_events.6 = {
	type = country_event
	placement = root
	title = nvgm_migration_events.2.title
	desc = nvgm_migration_events.2.desc
	flavor = nvgm_migration_events.2.flavor
	event_image = {
		video = "votp_gunboat_diplomacy"
	}
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	icon = "gfx/interface/icons/event_icons/event_trade.dds"
	duration = 1
	trigger = {
		# Triggered by JE
	}
	immediate = {
		change_variable = {
			name = nvgm_abandonment_policy_var
			multiply = 0
		}
		random_scope_state = {
			limit = {
				has_variable = nvgm_target_state_variable
			}
			save_scope_as = nvgm_target_state
		}
		random_scope_state = {
			limit = {
				is_incorporated = yes
				state_population >= 1000000
				any_scope_pop = {
					total_size >= 10000
					pop_acceptance < acceptance_status_4
				}
			}
			save_scope_as = nvgm_abandonment_state
			random_scope_pop = {
				limit = {
					total_size >= 10000
					pop_acceptance < acceptance_status_4
				}
				save_scope_as = nvgm_target_pop
			}
		}
		change_variable = {
			name = nvgm_abandonment_policy_var
			add = nvgm_state_population
		}
	}
	option = {
		trigger = {
			scope:nvgm_abandonment_state = {
				any_scope_pop = {
					total_size >= 10000
					pop_acceptance < acceptance_status_4
				}
			}
		}
		name = nvgm_migration_events.2.a
		default_option = yes
		scope:nvgm_target_pop = {
			move_pop = scope:nvgm_target_state
		}
		scope:nvgm_abandonment_state = {
			add_loyalists_in_state = {
				value = small_radicals
				strata >= middle
			}
			# add_radicals_in_state = {
			# 	value = small_radicals
			# 	strata = poor
			# }
		}
		hidden_effect = {
			trigger_event = {
				id = nvgm_migration_events.3
				days = 1
			}
		}
	}
	# リセット
	# option = {
	# 	name = nvgm_establish_company_events.1.reset
	# 	hidden_effect = {
	# 		trigger_event = {
	# 			id = nvgm_migration_events.2
	# 		}
	# 	}
	# 	change_variable = {
	# 		name = nvgm_abandonment_policy_var
	# 		multiply = 0
	# 	}
	# }
	# やめる
	option = {
		name = nvgm_migration_events.2.close
		change_variable = {
			name = nvgm_abandonment_policy_var
			multiply = 0
		}
	}
}

nvgm_migration_events.7 = {
	type = country_event
	hidden = yes
	trigger = {
		# Triggered by JE
	}
	immediate = {
		random_scope_state = {
			limit = {
				has_variable = nvgm_target_state_variable
			}
			save_scope_as = nvgm_target_state
		}
		change_variable = {
			name = nvgm_abandonment_policy_var
			subtract = nvgm_state_population
		}
		change_variable = {
			name = nvgm_abandonment_policy_var
			multiply = -1
		}
		je:je_nvgm_abandonment_policy = {
			add_progress = {
				value = root.var:nvgm_abandonment_policy_var
				name = nvgm_abandonment_policy_progress_bar
			}
		}
		change_variable = {
			name = nvgm_abandonment_policy_var
			multiply = 0
		}
	}
}

nvgm_migration_events.8 = {
	type = country_event
	placement = root
	title = nvgm_migration_events.7.title
	desc = nvgm_migration_events.7.desc
	flavor = nvgm_migration_events.7.flavor
	event_image = {
		video = "votp_gunboat_diplomacy"
	}
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	icon = "gfx/interface/icons/event_icons/event_trade.dds"
	duration = 3
	trigger = {
		# Triggered by JE
	}
	immediate = {
	}
	option = {
		name = nvgm_migration_events.6.a
		default_option = yes
	}
	# やめる
	option = {
		name = nvgm_migration_events.2.close
		change_variable = {
			name = nvgm_abandonment_policy_var
			multiply = 0
		}
	}
}

# test.63 = {
# 	type = country_event
# 	title = "建設開始"
# 	duration = 10
# 	immediate = {
# 		random_state = {
# 			limit = {
# 				owner = ROOT
# 			}
# 			save_scope_as = cur_state
# 		}
# 	}
# 	option = {
# 		name = "Start building 兵舎"
# 		scope:cur_state = {
# 			start_building_construction = building_barracks
# 		}
# 	}
# 	option = {
# 		name = "Start building 市街地"
# 		scope:cur_state = {
# 			start_building_construction = building_urban_center
# 		}
# 	}
# 	option = {
# 		name = "CANCEL"
# 		default_option = yes
# 	}
# }